Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - persistent-2.14.6.3 (lib) (first run)
 - persistent-2.14.6.3 (test:test) (first run)
Configuring library for persistent-2.14.6.3...
Preprocessing library for persistent-2.14.6.3...
Building library for persistent-2.14.6.3...
[ 1 of 46] Compiling Database.Persist.Class.PersistConfig
[ 2 of 46] Compiling Database.Persist.Names
[ 3 of 46] Compiling Database.Persist.PersistValue
[ 4 of 46] Compiling Database.Persist.SqlBackend.Internal.IsolationLevel
[ 5 of 46] Compiling Database.Persist.SqlBackend.Internal.SqlPoolHooks
[ 6 of 46] Compiling Database.Persist.Types.Base
[ 7 of 46] Compiling Database.Persist.SqlBackend.Internal.Statement
[ 8 of 46] Compiling Database.Persist.SqlBackend.Internal.StatementCache
[ 9 of 46] Compiling Database.Persist.SqlBackend.StatementCache
[10 of 46] Compiling Database.Persist.SqlBackend.Internal.InsertSqlResult
[11 of 46] Compiling Database.Persist.SqlBackend.Internal.MkSqlBackend
[12 of 46] Compiling Database.Persist.FieldDef.Internal
[13 of 46] Compiling Database.Persist.FieldDef
[14 of 46] Compiling Database.Persist.EntityDef.Internal
[15 of 46] Compiling Database.Persist.EntityDef
[16 of 46] Compiling Database.Persist.Class.PersistField

Database/Persist/Class/PersistField.hs:32:1: warning: [-Wunused-imports]
    The import of ‘Numeric.Natural’ is redundant
      except perhaps to import instances from ‘Numeric.Natural’
    To import instances alone, use: import Numeric.Natural()
   |
32 | import Numeric.Natural (Natural)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[17 of 46] Compiling Database.Persist.Class.PersistEntity

Database/Persist/Class/PersistEntity.hs:26:7: warning: [GHC-47854] [-Wduplicate-exports]
    ‘entityVal’ is exported by ‘Entity(.., Entity, entityKey,
                                       entityVal)’ and ‘Entity(.., Entity, entityKey, entityVal)’
   |
26 |     , Entity (.., Entity, entityKey, entityVal)
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Database/Persist/Class/PersistEntity.hs:26:7: warning: [GHC-47854] [-Wduplicate-exports]
    ‘entityKey’ is exported by ‘Entity(.., Entity, entityKey,
                                       entityVal)’ and ‘Entity(.., Entity, entityKey, entityVal)’
   |
26 |     , Entity (.., Entity, entityKey, entityVal)
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Database/Persist/Class/PersistEntity.hs:26:7: warning: [GHC-47854] [-Wduplicate-exports]
    ‘Entity’ is exported by ‘Entity(.., Entity, entityKey,
                                    entityVal)’ and ‘Entity(.., Entity, entityKey, entityVal)’
   |
26 |     , Entity (.., Entity, entityKey, entityVal)
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Database/Persist/Class/PersistEntity.hs:43:1: warning: [-Wunused-imports]
    The import of ‘Data.Functor.Constant’ is redundant
      except perhaps to import instances from ‘Data.Functor.Constant’
    To import instances alone, use: import Data.Functor.Constant()
   |
43 | import Data.Functor.Constant
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Database/Persist/Class/PersistEntity.hs:68:1: warning: [-Wunused-imports]
    The import of ‘GHC.Records’ is redundant
      except perhaps to import instances from ‘GHC.Records’
    To import instances alone, use: import GHC.Records()
   |
68 | import GHC.Records
   | ^^^^^^^^^^^^^^^^^^
[18 of 46] Compiling Database.Persist.Types
[19 of 46] Compiling Database.Persist.Quasi.Internal
[20 of 46] Compiling Database.Persist.Quasi
[21 of 46] Compiling Database.Persist.Class.PersistStore
[22 of 46] Compiling Database.Persist.SqlBackend.Internal
[23 of 46] Compiling Database.Persist.SqlBackend
[24 of 46] Compiling Database.Persist.Class.PersistUnique
[25 of 46] Compiling Database.Persist.Class.PersistQuery
[26 of 46] Compiling Database.Persist.Class
[27 of 46] Compiling Database.Persist.Sql.Types.Internal
[28 of 46] Compiling Database.Persist.Sql.Types
[29 of 46] Compiling Database.Persist.Sql.Internal
[30 of 46] Compiling Database.Persist
[31 of 46] Compiling Database.Persist.Sql.Util
[32 of 46] Compiling Database.Persist.Sql.Class
[33 of 46] Compiling Database.Persist.Sql.Raw
[34 of 46] Compiling Database.Persist.SqlBackend.SqlPoolHooks

Database/Persist/SqlBackend/SqlPoolHooks.hs:87:1: warning: [-Wunused-top-binds]
    Defined but not used: ‘modifyRunOnException’
   |
87 | modifyRunOnException hooks f = hooks { runOnException = f $ runOnException hooks }
   | ^^^^^^^^^^^^^^^^^^^^

Database/Persist/SqlBackend/SqlPoolHooks.hs:90:1: warning: [-Wunused-top-binds]
    Defined but not used: ‘setRunOnException’
   |
90 | setRunOnException hooks f = hooks { runOnException = f }
   | ^^^^^^^^^^^^^^^^^
[35 of 46] Compiling Database.Persist.Sql.Run

Database/Persist/Sql/Run.hs:148:13: warning: [GHC-68441] [-Wdeprecations]
    In the use of data constructor ‘ReleaseException’
    (imported from Data.Acquire, but defined in Data.Acquire.Internal):
    Deprecated: "Use `ReleaseExceptionWith`, which has the exception in the constructor. This pattern synonym hides the exception and can obscure problems."
    |
148 |             ReleaseException -> do
    |             ^^^^^^^^^^^^^^^^

Database/Persist/Sql/Run.hs:252:14: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘createPool’ (imported from Data.Pool):
    Deprecated: "Use newPool instead"
    |
252 |     liftIO $ createPool
    |              ^^^^^^^^^^
[36 of 46] Compiling Database.Persist.Sql.Orphan.PersistStore
[37 of 46] Compiling Database.Persist.Sql.Orphan.PersistUnique
[38 of 46] Compiling Database.Persist.Sql.Orphan.PersistQuery
[39 of 46] Compiling Database.Persist.Sql.Migration
[40 of 46] Compiling Database.Persist.ImplicitIdDef.Internal

Database/Persist/ImplicitIdDef/Internal.hs:205:13: warning: [GHC-53633] [-Woverlapping-patterns]
    Pattern match is redundant
    In a case alternative: Fun _ _ -> ...
    |
205 |             Fun _ _ ->
    |             ^^^^^^^^^^...
[41 of 46] Compiling Database.Persist.ImplicitIdDef
[42 of 46] Compiling Database.Persist.Compatible.Types
[43 of 46] Compiling Database.Persist.Compatible.TH
[44 of 46] Compiling Database.Persist.Compatible
[45 of 46] Compiling Database.Persist.Sql
[46 of 46] Compiling Database.Persist.TH
Configuring test suite 'test' for persistent-2.14.6.3...
Preprocessing test suite 'test' for persistent-2.14.6.3...
Building test suite 'test' for persistent-2.14.6.3...
[ 1 of 33] Compiling Database.Persist.ClassSpec
[ 2 of 33] Compiling Database.Persist.PersistValueSpec

test/Database/Persist/PersistValueSpec.hs:5:1: warning: [-Wunused-imports]
    The import of ‘Data.List.NonEmpty’ is redundant
      except perhaps to import instances from ‘Data.List.NonEmpty’
    To import instances alone, use: import Data.List.NonEmpty()
  |
5 | import Data.List.NonEmpty (NonEmpty(..), (<|))
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/PersistValueSpec.hs:7:1: warning: [-Wunused-imports]
    The import of ‘Test.Hspec’ is redundant
      except perhaps to import instances from ‘Test.Hspec’
    To import instances alone, use: import Test.Hspec()
  |
7 | import Test.Hspec
  | ^^^^^^^^^^^^^^^^^
[ 3 of 33] Compiling Database.Persist.QuasiSpec

test/Database/Persist/QuasiSpec.hs:11:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad’ is redundant
      except perhaps to import instances from ‘Control.Monad’
    To import instances alone, use: import Control.Monad()
   |
11 | import Control.Monad
   | ^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:273:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            [_, _]
            (_:_:_:_:_)
    |
273 |         let [bicycle, car, vehicle] = parse lowerCaseSettings subject
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:315:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
315 |             let [user, notification] = parse lowerCaseSettings [st|
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/QuasiSpec.hs:374:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
374 |             let [user] = parse lowerCaseSettings definitions
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:384:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
384 |             let [user] = parse lowerCaseSettings definitions
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:394:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
394 |             let [user] = parse lowerCaseSettings definitions
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:407:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
407 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:427:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
427 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:441:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
441 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:475:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
475 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:489:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
489 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:500:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
500 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:517:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
517 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:519:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[NonEmpty FieldNameDB]’ not matched:
            []
            (_:_:_)
    |
519 |                     [dbNames] = fmap snd . uniqueFields <$> uniques
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:533:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
533 |                 let [user] = parse lowerCaseSettings definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:558:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
558 |                     [_user, notification] =
    |                     ^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/QuasiSpec.hs:560:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[ForeignDef]’ not matched:
            []
            (_:_:_)
    |
560 |                     [notificationForeignDef] =
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/QuasiSpec.hs:581:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
581 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:581:52: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
581 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:601:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
601 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:601:52: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
601 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:621:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
621 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:621:52: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
621 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:641:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
641 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:641:52: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
641 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:661:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
661 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:661:52: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
661 |                 let [_user, notification] = parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) definitions
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:667:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
667 |                 let [_user, notification] =
    |                     ^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/QuasiSpec.hs:668:32: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘setPsUseSnakeCaseForiegnKeys’
    (imported from Database.Persist.Quasi):
    Deprecated: "use the correctly spelled, equivalent, setPsUseSnakeCaseForeignKeys instead"
    |
668 |                         parse (setPsUseSnakeCaseForiegnKeys lowerCaseSettings) validDefinitions
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:669:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[ForeignDef]’ not matched:
            []
            (_:_:_)
    |
669 |                     [notificationForeignDef] =
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/QuasiSpec.hs:686:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
686 |                 let [customerTransfer] = parse lowerCaseSettings tickedDefinition
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:706:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
    |
706 |                 let [withFinite] = parse lowerCaseSettings tickedDefinition
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:1141:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            (_:_:_)
     |
1141 |         let [subject] = parse lowerCaseSettings lines
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/QuasiSpec.hs:1165:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[UnboundEntityDef]’ not matched:
            []
            [_]
            [_, _]
            (_:_:_:_:_)
     |
1165 |             let [_, lowerCaseTable, idTable] =
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...
[ 4 of 33] Compiling Database.Persist.TH.CompositeKeyStyleSpec
[ 5 of 33] Compiling Database.Persist.TH.RequireOnlyPersistImportSpec

test/Database/Persist/TH/RequireOnlyPersistImportSpec.hs:38:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘typeSigPlain’
   |
38 |                 typeSigPlain = Plain
   |                 ^^^^^^^^^^^^

test/Database/Persist/TH/RequireOnlyPersistImportSpec.hs:43:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘typeSigJsonEncoded’
   |
43 |                 typeSigJsonEncoded = JsonEncoded
   |                 ^^^^^^^^^^^^^^^^^^
[ 6 of 33] Compiling TemplateTestImports

test/TemplateTestImports.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Maybe’ is redundant
      except perhaps to import instances from ‘Data.Maybe’
    To import instances alone, use: import Data.Maybe()
   |
19 | import Data.Maybe
   | ^^^^^^^^^^^^^^^^^

test/TemplateTestImports.hs:20:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad’ is redundant
      except perhaps to import instances from ‘Control.Monad’
    To import instances alone, use: import Control.Monad()
   |
20 | import Control.Monad
   | ^^^^^^^^^^^^^^^^^^^^

test/TemplateTestImports.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Language.Haskell.TH.Syntax’ is redundant
      except perhaps to import instances from ‘Language.Haskell.TH.Syntax’
    To import instances alone, use: import Language.Haskell.TH.Syntax()
   |
21 | import Language.Haskell.TH.Syntax
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 7 of 33] Compiling Database.Persist.TH.TypeLitFieldDefsSpec
[ 8 of 33] Compiling Database.Persist.TH.ToFromPersistValuesSpec

test/Database/Persist/TH/ToFromPersistValuesSpec.hs:29:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Class.PersistEntity’ is redundant
      except perhaps to import instances from ‘Database.Persist.Class.PersistEntity’
    To import instances alone, use: import Database.Persist.Class.PersistEntity()
   |
29 | import Database.Persist.Class.PersistEntity
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ToFromPersistValuesSpec.hs:33:1: warning: [GHC-90177] [-Worphans]
    Orphan instance: instance PersistFieldSql a =>
                              PersistFieldSql (NonEmpty a)
    Suggested fix:
      Move the instance declaration to the module of the class or of the type, or
      wrap the type with a newtype and declare the instance on the new type.
   |
33 | instance PersistFieldSql a => PersistFieldSql (NonEmpty a) where
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/TH/ToFromPersistValuesSpec.hs:36:1: warning: [GHC-90177] [-Worphans]
    Orphan instance: instance PersistField a =>
                              PersistField (NonEmpty a)
    Suggested fix:
      Move the instance declaration to the module of the class or of the type, or
      wrap the type with a newtype and declare the instance on the new type.
   |
36 | instance PersistField a => PersistField (NonEmpty a) where
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/TH/ToFromPersistValuesSpec.hs:148:13: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘subject’ shadows the existing binding
      bound at test/Database/Persist/TH/ToFromPersistValuesSpec.hs:89:9
    |
148 |             subject pvs rec =
    |             ^^^^^^^

test/Database/Persist/TH/ToFromPersistValuesSpec.hs:195:13: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘subject’ shadows the existing binding
      bound at test/Database/Persist/TH/ToFromPersistValuesSpec.hs:89:9
    |
195 |             subject pvals entity = do
    |             ^^^^^^^
[ 9 of 33] Compiling Database.Persist.TH.SharedPrimaryKeySpec

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Proxy’ is redundant
      except perhaps to import instances from ‘Data.Proxy’
    To import instances alone, use: import Data.Proxy()
   |
19 | import Data.Proxy
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:20:1: warning: [-Wunused-imports]
    The import of ‘Test.Hspec’ is redundant
      except perhaps to import instances from ‘Test.Hspec’
    To import instances alone, use: import Test.Hspec()
   |
20 | import Test.Hspec
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist’ is redundant
      except perhaps to import instances from ‘Database.Persist’
    To import instances alone, use: import Database.Persist()
   |
21 | import Database.Persist
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:22:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.EntityDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.EntityDef’
    To import instances alone, use: import Database.Persist.EntityDef()
   |
22 | import Database.Persist.EntityDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Sql’ is redundant
      except perhaps to import instances from ‘Database.Persist.Sql’
    To import instances alone, use: import Database.Persist.Sql()
   |
23 | import Database.Persist.Sql
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:24:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Sql.Util’ is redundant
      except perhaps to import instances from ‘Database.Persist.Sql.Util’
    To import instances alone, use: import Database.Persist.Sql.Util()
   |
24 | import Database.Persist.Sql.Util
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:25:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.TH’ is redundant
      except perhaps to import instances from ‘Database.Persist.TH’
    To import instances alone, use: import Database.Persist.TH()
   |
25 | import Database.Persist.TH
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeySpec.hs:126:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            (_:_:_)
    |
126 |             [dayKeyField] =
    |             ^^^^^^^^^^^^^^^...
[10 of 33] Compiling Database.Persist.TH.SharedPrimaryKeyImportedSpec

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:18:1: warning: [-Wunused-imports]
    The import of ‘Data.Proxy’ is redundant
      except perhaps to import instances from ‘Data.Proxy’
    To import instances alone, use: import Data.Proxy()
   |
18 | import Data.Proxy
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Test.Hspec’ is redundant
      except perhaps to import instances from ‘Test.Hspec’
    To import instances alone, use: import Test.Hspec()
   |
19 | import Test.Hspec
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:20:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist’ is redundant
      except perhaps to import instances from ‘Database.Persist’
    To import instances alone, use: import Database.Persist()
   |
20 | import Database.Persist
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Sql’ is redundant
      except perhaps to import instances from ‘Database.Persist.Sql’
    To import instances alone, use: import Database.Persist.Sql()
   |
21 | import Database.Persist.Sql
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:22:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Sql.Util’ is redundant
      except perhaps to import instances from ‘Database.Persist.Sql.Util’
    To import instances alone, use: import Database.Persist.Sql.Util()
   |
22 | import Database.Persist.Sql.Util
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.TH’ is redundant
      except perhaps to import instances from ‘Database.Persist.TH’
    To import instances alone, use: import Database.Persist.TH()
   |
23 | import Database.Persist.TH
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:24:1: warning: [-Wunused-imports]
    The import of ‘Language.Haskell.TH’ is redundant
      except perhaps to import instances from ‘Language.Haskell.TH’
    To import instances alone, use: import Language.Haskell.TH()
   |
24 | import Language.Haskell.TH
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:25:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.IO.Class’ is redundant
      except perhaps to import instances from ‘Control.Monad.IO.Class’
    To import instances alone, use: import Control.Monad.IO.Class()
   |
25 | import Control.Monad.IO.Class
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/SharedPrimaryKeyImportedSpec.hs:68:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe FieldDef’ not matched: Nothing
   |
68 |                 Just fd =
   |                 ^^^^^^^^^...
[11 of 33] Compiling Database.Persist.TH.PersistWith.Model2
[12 of 33] Compiling Database.Persist.TH.PersistWith.Model
[13 of 33] Compiling Database.Persist.TH.PersistWithSpec

test/Database/Persist/TH/PersistWithSpec.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Language.Haskell.TH’ is redundant
      except perhaps to import instances from ‘Language.Haskell.TH’
    To import instances alone, use: import Language.Haskell.TH()
   |
21 | import Language.Haskell.TH as TH
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/PersistWithSpec.hs:44:1: warning: [GHC-38417] [-Wmissing-signatures]
    Top-level binding with no type signature: allFields :: [SomeField]
   |
44 | allFields =
   | ^^^^^^^^^
[14 of 33] Compiling Database.Persist.TH.OverloadedLabelSpec

test/Database/Persist/TH/OverloadedLabelSpec.hs:45:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: UserName = #name
   |
45 |         let UserName = #name
   |             ^^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:46:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: OrganizationName = #name
   |
46 |             OrganizationName = #name
   |             ^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:47:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: DogName = #name
   |
47 |             DogName = #name
   |             ^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:52:21: warning: [GHC-88464] [-Wpartial-type-signatures]
    • Found extra-constraints wildcard standing for
        ‘SymbolToField "name" rec a’
      Where: ‘rec’, ‘a’ are rigid type variables bound by
               the inferred type of
                 name :: SymbolToField "name" rec a => EntityField rec a
               at test/Database/Persist/TH/OverloadedLabelSpec.hs:52:13-42
    • In the type signature: name :: _ => EntityField rec a
      In the second argument of ‘($)’, namely
        ‘do let name :: _ => EntityField rec a
                name = #name
                ....
            compiles’
      In a stmt of a 'do' block:
        it "works for polymorphic labels"
          $ do let name :: _ => EntityField rec a
                   name = #name
                   ....
               compiles
    • Relevant bindings include
        spec :: Spec
          (bound at test/Database/Persist/TH/OverloadedLabelSpec.hs:43:1)
   |
52 |         let name :: _ => EntityField rec a
   |                     ^

test/Database/Persist/TH/OverloadedLabelSpec.hs:53:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘name’
   |
53 |             name = #name
   |             ^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:55:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: UserName = name
   |
55 |             UserName = name
   |             ^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:56:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: OrganizationName = name
   |
56 |             OrganizationName = name
   |             ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:57:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: DogName = name
   |
57 |             DogName = name
   |             ^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:62:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: UserId = #id
   |
62 |         let UserId = #id
   |             ^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:63:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘orgId’
   |
63 |             orgId = #id :: EntityField Organization OrganizationId
   |             ^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:68:13: warning: [GHC-61367] [-Wunused-pattern-binds]
    This pattern-binding binds no variables: StudentId = #id
   |
68 |         let StudentId = #id
   |             ^^^^^^^^^^^^^^^

test/Database/Persist/TH/OverloadedLabelSpec.hs:69:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘studentId’
   |
69 |             studentId = #id :: EntityField Student StudentId
   |             ^^^^^^^^^
[15 of 33] Compiling Database.Persist.TH.NoFieldSelectorsSpec
[16 of 33] Compiling Database.Persist.TH.NestedSymbolsInTypeSpecImports

test/Database/Persist/TH/NestedSymbolsInTypeSpecImports.hs:6:1: warning: [-Wunused-imports]
    The import of ‘Data.Proxy’ is redundant
      except perhaps to import instances from ‘Data.Proxy’
    To import instances alone, use: import Data.Proxy()
  |
6 | import Data.Proxy
  | ^^^^^^^^^^^^^^^^^
[17 of 33] Compiling Database.Persist.TH.NestedSymbolsInTypeSpec
[18 of 33] Compiling Database.Persist.TH.MultiBlockSpec.Model
[19 of 33] Compiling Database.Persist.TH.SumSpec

test/Database/Persist/TH/SumSpec.hs:24:1: warning: [GHC-39584]
    persistent has deprecated sum type entities as of 2.14.0.0.
We will delete support for these entities in 2.15.0.0.
If you need these, please add a comment on this GitHub issue:

    https://github.com/yesodweb/persistent/issues/987

   |
24 | share
   | ^^^^^...

test/Database/Persist/TH/SumSpec.hs:24:1: warning: [-Wunused-matches]
    Defined but not used: ‘fromField’
   |
24 | share
   | ^^^^^...
[20 of 33] Compiling Database.Persist.TH.MultiBlockSpec

test/Database/Persist/TH/MultiBlockSpec.hs:55:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            [_]
            [_, _]
            [_, _, _]
            ...
   |
55 |                 [n, a, userRef, thingRef, thingAutoRef, profileRef] =
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/TH/MultiBlockSpec.hs:55:18: warning: [-Wunused-local-binds]
    Defined but not used: ‘n’
   |
55 |                 [n, a, userRef, thingRef, thingAutoRef, profileRef] =
   |                  ^

test/Database/Persist/TH/MultiBlockSpec.hs:55:21: warning: [-Wunused-local-binds]
    Defined but not used: ‘a’
   |
55 |                 [n, a, userRef, thingRef, thingAutoRef, profileRef] =
   |                     ^
[21 of 33] Compiling Database.Persist.TH.MigrationOnlySpec

test/Database/Persist/TH/MigrationOnlySpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
19 | import Data.Text (Text)
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/MigrationOnlySpec.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef’
    To import instances alone, use: import Database.Persist.ImplicitIdDef()
   |
21 | import Database.Persist.ImplicitIdDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/MigrationOnlySpec.hs:22:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef.Internal’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef.Internal’
    To import instances alone, use: import Database.Persist.ImplicitIdDef.Internal()
   |
22 | import Database.Persist.ImplicitIdDef.Internal (fieldTypeFromTypeable)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/MigrationOnlySpec.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Types’ is redundant
      except perhaps to import instances from ‘Database.Persist.Types’
    To import instances alone, use: import Database.Persist.Types()
   |
23 | import Database.Persist.Types
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[22 of 33] Compiling Database.Persist.TH.MaybeFieldDefsSpec

test/Database/Persist/TH/MaybeFieldDefsSpec.hs:26:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘mkAccount’
   |
26 |             mkAccount = Account
   |             ^^^^^^^^^
[23 of 33] Compiling Database.Persist.TH.KindEntitiesSpecImports

test/Database/Persist/TH/KindEntitiesSpecImports.hs:7:1: warning: [-Wunused-imports]
    The qualified import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
  |
7 | import qualified Data.Text as T
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[24 of 33] Compiling Database.Persist.TH.KindEntitiesSpec

test/Database/Persist/TH/KindEntitiesSpec.hs:32:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘mkTransfer’
   |
32 |             mkTransfer = CustomerTransfer
   |             ^^^^^^^^^^

test/Database/Persist/TH/KindEntitiesSpec.hs:34:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘getAmount’
   |
34 |             getAmount = customerTransferMoneyAmount
   |             ^^^^^^^^^
[25 of 33] Compiling Database.Persist.TH.JsonEncodingSpec

test/Database/Persist/TH/JsonEncodingSpec.hs:22:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
22 | import Data.Text (Text)
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/JsonEncodingSpec.hs:27:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.EntityDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.EntityDef’
    To import instances alone, use: import Database.Persist.EntityDef()
   |
27 | import Database.Persist.EntityDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/JsonEncodingSpec.hs:28:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef’
    To import instances alone, use: import Database.Persist.ImplicitIdDef()
   |
28 | import Database.Persist.ImplicitIdDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/JsonEncodingSpec.hs:29:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef.Internal’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef.Internal’
    To import instances alone, use: import Database.Persist.ImplicitIdDef.Internal()
   |
29 | import Database.Persist.ImplicitIdDef.Internal (fieldTypeFromTypeable)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/JsonEncodingSpec.hs:30:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Types’ is redundant
      except perhaps to import instances from ‘Database.Persist.Types’
    To import instances alone, use: import Database.Persist.Types()
   |
30 | import Database.Persist.Types
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[26 of 33] Compiling Database.Persist.TH.ImplicitIdColSpec

test/Database/Persist/TH/ImplicitIdColSpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
19 | import Data.Text (Text)
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ImplicitIdColSpec.hs:50:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘userKey’
   |
50 |                 userKey = UserKey "Hello"
   |                 ^^^^^^^

test/Database/Persist/TH/ImplicitIdColSpec.hs:56:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
   |
56 |             EntityIdField idField =
   |             ^^^^^^^^^^^^^^^^^^^^^^^...
[27 of 33] Compiling Database.Persist.TH.ForeignRefSpec

test/Database/Persist/TH/ForeignRefSpec.hs:26:1: warning: [-Wunused-imports]
    The import of ‘Control.Applicative’ is redundant
      except perhaps to import instances from ‘Control.Applicative’
    To import instances alone, use: import Control.Applicative()
   |
26 | import Control.Applicative (Const(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:27:1: warning: [-Wunused-imports]
    The import of ‘Data.Aeson’ is redundant
      except perhaps to import instances from ‘Data.Aeson’
    To import instances alone, use: import Data.Aeson()
   |
27 | import Data.Aeson
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:29:1: warning: [-Wunused-imports]
    The import of ‘Data.Coerce’ is redundant
      except perhaps to import instances from ‘Data.Coerce’
    To import instances alone, use: import Data.Coerce()
   |
29 | import Data.Coerce
   | ^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:30:1: warning: [-Wunused-imports]
    The import of ‘Data.Functor.Identity’ is redundant
      except perhaps to import instances from ‘Data.Functor.Identity’
    To import instances alone, use: import Data.Functor.Identity()
   |
30 | import Data.Functor.Identity (Identity(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:31:1: warning: [-Wunused-imports]
    The import of ‘Data.Int’ is redundant
      except perhaps to import instances from ‘Data.Int’
    To import instances alone, use: import Data.Int()
   |
31 | import Data.Int
   | ^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:32:1: warning: [-Wunused-imports]
    The qualified import of ‘Data.List’ is redundant
      except perhaps to import instances from ‘Data.List’
    To import instances alone, use: import Data.List()
   |
32 | import qualified Data.List as List
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:34:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
34 | import Data.Text (Text, pack)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:35:1: warning: [-Wunused-imports]
    The import of ‘GHC.Generics’ is redundant
      except perhaps to import instances from ‘GHC.Generics’
    To import instances alone, use: import GHC.Generics()
   |
35 | import GHC.Generics (Generic)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:37:1: warning: [-Wunused-imports]
    The import of ‘Test.Hspec.QuickCheck’ is redundant
      except perhaps to import instances from ‘Test.Hspec.QuickCheck’
    To import instances alone, use: import Test.Hspec.QuickCheck()
   |
37 | import Test.Hspec.QuickCheck
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:38:1: warning: [-Wunused-imports]
    The import of ‘Test.QuickCheck.Arbitrary’ is redundant
      except perhaps to import instances from ‘Test.QuickCheck.Arbitrary’
    To import instances alone, use: import Test.QuickCheck.Arbitrary()
   |
38 | import Test.QuickCheck.Arbitrary
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:39:1: warning: [-Wunused-imports]
    The import of ‘Test.QuickCheck.Gen’ is redundant
      except perhaps to import instances from ‘Test.QuickCheck.Gen’
    To import instances alone, use: import Test.QuickCheck.Gen()
   |
39 | import Test.QuickCheck.Gen (Gen)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:44:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Sql.Util’ is redundant
      except perhaps to import instances from ‘Database.Persist.Sql.Util’
    To import instances alone, use: import Database.Persist.Sql.Util()
   |
44 | import Database.Persist.Sql.Util
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:107:13: warning: [-Wunused-local-binds]
    Defined but not used: ‘fpsDef’
    |
107 |             fpsDef =
    |             ^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:109:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[ForeignDef]’ not matched:
            []
            (_:_:_)
    |
109 |             [foreignDef] =
    |             ^^^^^^^^^^^^^^...

test/Database/Persist/TH/ForeignRefSpec.hs:109:14: warning: [-Wunused-local-binds]
    Defined but not used: ‘foreignDef’
    |
109 |             [foreignDef] =
    |              ^^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:119:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘parentDef’
    |
119 |                 parentDef =
    |                 ^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:127:26: warning: [-Wunused-matches]
    Defined but not used: ‘a’
    |
127 |                         [a] ->
    |                          ^

test/Database/Persist/TH/ForeignRefSpec.hs:136:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[ForeignDef]’ not matched:
            []
            ((ForeignDef _ _ _ _ _ _ _ _ _):_:_)
    |
136 |                 [ForeignDef {..}] =
    |                 ^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/TH/ForeignRefSpec.hs:161:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘parentDef’
    |
161 |                 parentDef =
    |                 ^^^^^^^^^

test/Database/Persist/TH/ForeignRefSpec.hs:169:22: warning: [-Wunused-matches]
    Defined but not used: ‘nameField’
    |
169 |                     [nameField, parentIdField] -> do
    |                      ^^^^^^^^^
[28 of 33] Compiling Database.Persist.TH.EmbedSpec

test/Database/Persist/TH/EmbedSpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
19 | import Data.Text (Text)
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef’
    To import instances alone, use: import Database.Persist.ImplicitIdDef()
   |
23 | import Database.Persist.ImplicitIdDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:24:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef.Internal’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef.Internal’
    To import instances alone, use: import Database.Persist.ImplicitIdDef.Internal()
   |
24 | import Database.Persist.ImplicitIdDef.Internal (fieldTypeFromTypeable)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:25:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Types’ is redundant
      except perhaps to import instances from ‘Database.Persist.Types’
    To import instances alone, use: import Database.Persist.Types()
   |
25 | import Database.Persist.Types
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:26:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.Types’ is redundant
      except perhaps to import instances from ‘Database.Persist.Types’
    To import instances alone, use: import Database.Persist.Types()
   |
26 | import Database.Persist.Types
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:27:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.EntityDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.EntityDef’
    To import instances alone, use: import Database.Persist.EntityDef()
   |
27 | import Database.Persist.EntityDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:79:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            (_:_:_)
   |
79 |             [fieldDef] =
   |             ^^^^^^^^^^^^...

test/Database/Persist/TH/EmbedSpec.hs:93:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            (_:_:_)
   |
93 |             [fieldDef] =
   |             ^^^^^^^^^^^^...

test/Database/Persist/TH/EmbedSpec.hs:115:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            (_:_:_)
    |
115 |             [fieldDef] =
    |             ^^^^^^^^^^^^...

test/Database/Persist/TH/EmbedSpec.hs:147:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘embedThing’
    |
147 |                 embedThing = EmbedThing (Thing "asdf")
    |                 ^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:156:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            [_]
            (_:_:_:_)
    |
156 |                 [nameField, selfField] = getEntityFields edef
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/EmbedSpec.hs:156:18: warning: [-Wunused-local-binds]
    Defined but not used: ‘nameField’
    |
156 |                 [nameField, selfField] = getEntityFields edef
    |                  ^^^^^^^^^
[29 of 33] Compiling Database.Persist.TH.DiscoverEntitiesSpec

test/Database/Persist/TH/DiscoverEntitiesSpec.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Aeson’ is redundant
      except perhaps to import instances from ‘Data.Aeson’
    To import instances alone, use: import Data.Aeson()
   |
19 | import Data.Aeson
   | ^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/DiscoverEntitiesSpec.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
21 | import Data.Text (Text)
   | ^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/DiscoverEntitiesSpec.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Language.Haskell.TH.Syntax’ is redundant
      except perhaps to import instances from ‘Language.Haskell.TH.Syntax’
    To import instances alone, use: import Language.Haskell.TH.Syntax()
   |
23 | import Language.Haskell.TH.Syntax
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/DiscoverEntitiesSpec.hs:25:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef’
    To import instances alone, use: import Database.Persist.ImplicitIdDef()
   |
25 | import Database.Persist.ImplicitIdDef
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/DiscoverEntitiesSpec.hs:26:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.ImplicitIdDef.Internal’ is redundant
      except perhaps to import instances from ‘Database.Persist.ImplicitIdDef.Internal’
    To import instances alone, use: import Database.Persist.ImplicitIdDef.Internal()
   |
26 | import Database.Persist.ImplicitIdDef.Internal (fieldTypeFromTypeable)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[30 of 33] Compiling Database.Persist.TH.CommentSpec

test/Database/Persist/TH/CommentSpec.hs:25:1: warning: [-Wunused-imports]
    The import of ‘Database.Persist.FieldDef.Internal’ is redundant
      except perhaps to import instances from ‘Database.Persist.FieldDef.Internal’
    To import instances alone, use: import Database.Persist.FieldDef.Internal()
   |
25 | import Database.Persist.FieldDef.Internal (FieldDef(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/TH/CommentSpec.hs:41:1: warning: [-Wunused-top-binds]
    Defined but not used: ‘pass’
   |
41 | pass = pure ()
   | ^^^^

test/Database/Persist/TH/CommentSpec.hs:44:1: warning: [-Wunused-top-binds]
    Defined but not used: ‘asIO’
   |
44 | asIO = id
   | ^^^^

test/Database/Persist/TH/CommentSpec.hs:61:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[Maybe Text]’ not matched:
            []
            (_:_:_)
   |
61 |             [nameComments] =
   |             ^^^^^^^^^^^^^^^^...
[31 of 33] Compiling Database.Persist.TH.EntityHaddockSpec
[32 of 33] Compiling Database.Persist.THSpec

test/Database/Persist/THSpec.hs:35:19: warning: [-Wunused-imports]
    The import of ‘Text’ from module ‘Data.Text’ is redundant
   |
35 | import Data.Text (Text, pack)
   |                   ^^^^

test/Database/Persist/THSpec.hs:68:1: warning: [-Wunused-imports]
    The qualified import of ‘Database.Persist.TH.RequireOnlyPersistImportSpec’ is redundant
      except perhaps to import instances from ‘Database.Persist.TH.RequireOnlyPersistImportSpec’
    To import instances alone, use: import Database.Persist.TH.RequireOnlyPersistImportSpec()
   |
68 | import qualified Database.Persist.TH.RequireOnlyPersistImportSpec as RequireOnlyPersistImportSpec
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/THSpec.hs:79:37: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘mpsGeneric’
    (imported from TemplateTestImports, but defined in Database.Persist.TH):
    Deprecated: "The mpsGeneric function adds a considerable amount of overhead and complexity to the library without bringing significant benefit. We would like to remove it. If you require this feature, please comment on the linked GitHub issue, and we'll either keep it around, or we can figure out a nicer way to solve your problem.

 Github: https://github.com/yesodweb/persistent/issues/1204"
   |
79 | share [mkPersistWith  sqlSettings { mpsGeneric = False, mpsDeriveInstances = [''Generic] } [entityDef @JsonEncodingSpec.JsonEncoding Proxy]] [persistUpperCase|
   |                                     ^^^^^^^^^^

test/Database/Persist/THSpec.hs:166:32: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘mpsGeneric’
    (imported from TemplateTestImports, but defined in Database.Persist.TH):
    Deprecated: "The mpsGeneric function adds a considerable amount of overhead and complexity to the library without bringing significant benefit. We would like to remove it. If you require this feature, please comment on the linked GitHub issue, and we'll either keep it around, or we can figure out a nicer way to solve your problem.

 Github: https://github.com/yesodweb/persistent/issues/1204"
    |
166 | share [mkPersist sqlSettings { mpsGeneric = False, mpsGenerateLenses = True }] [persistLowerCase|
    |                                ^^^^^^^^^^

test/Database/Persist/THSpec.hs:216:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[FieldDef]’ not matched:
            []
            ((FieldDef _ _ _ _ _ _ _ _ _ _ _):_:_)
    |
216 |             [FieldDef {..}] = entityFields ed
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/Database/Persist/THSpec.hs:222:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
222 |         let EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:222:36: warning: [-Wunused-record-wildcards]
    No variables bound in the record wildcard match are used
      Possible fix: omit the ‘..’
    |
222 |         let EntityIdField FieldDef{..} =
    |                                    ^^

test/Database/Persist/THSpec.hs:235:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
235 |         let EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:249:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
249 |         let EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:260:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
260 |         let EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:273:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
273 |             EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:299:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘EntityIdDef’ not matched: EntityIdNaturalKey _
    |
299 |         let EntityIdField FieldDef{..} =
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^...

test/Database/Persist/THSpec.hs:316:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe FieldDef’ not matched: Nothing
    |
316 |             Just subject =
    |             ^^^^^^^^^^^^^^...
[33 of 33] Compiling Main
[34 of 34] Linking /tmp/workdir-persistent/persistent-2.14.6.3/dist-newstyle/build/x86_64-linux/ghc-9.6.6/persistent-2.14.6.3/t/test/build/test/test
