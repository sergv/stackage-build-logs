Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - cryptostore-0.3.1.0 (lib) (first run)
 - cryptostore-0.3.1.0 (test:test-cryptostore) (first run)
Configuring library for cryptostore-0.3.1.0...
Preprocessing library for cryptostore-0.3.1.0...
Building library for cryptostore-0.3.1.0...
[ 1 of 30] Compiling Crypto.Store.ASN1.Generate
[ 2 of 30] Compiling Crypto.Store.ASN1.Parse

src/Crypto/Store/ASN1/Parse.hs:43:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
43 | import Data.Monoid
   | ^^^^^^^^^^^^^^^^^^
[ 3 of 30] Compiling Crypto.Store.Cipher.RC2.Primitive
[ 4 of 30] Compiling Crypto.Store.Error
[ 5 of 30] Compiling Crypto.Store.CMS.Util
[ 6 of 30] Compiling Crypto.Store.CMS.Type
[ 7 of 30] Compiling Crypto.Store.CMS.OriginatorInfo

src/Crypto/Store/CMS/OriginatorInfo.hs:27:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
27 | import Data.Semigroup
   | ^^^^^^^^^^^^^^^^^^^^^
[ 8 of 30] Compiling Crypto.Store.CMS.Attribute
[ 9 of 30] Compiling Crypto.Store.PEM
[10 of 30] Compiling Crypto.Store.PKCS8.EC
[11 of 30] Compiling Crypto.Store.Util
[12 of 30] Compiling Crypto.Store.KeyWrap.TripleDES

src/Crypto/Store/KeyWrap/TripleDES.hs:43:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
43 |     Just iv' = makeIV iv4adda22c79e82105
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/KeyWrap/TripleDES.hs:59:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
59 |     Just iv'      = makeIV iv4adda22c79e82105
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/KeyWrap/TripleDES.hs:63:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
63 |     Just iv       = makeIV ivBs
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[13 of 30] Compiling Crypto.Store.KeyWrap.RC2

src/Crypto/Store/KeyWrap/RC2.hs:65:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
65 |             Just iv'   = makeIV iv4adda22c79e82105
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/KeyWrap/RC2.hs:78:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
78 |     Just iv'         = makeIV iv4adda22c79e82105
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/KeyWrap/RC2.hs:82:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
82 |     Just iv          = makeIV ivBs
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/KeyWrap/RC2.hs:85:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (GHC.Word.Word8, ba)’ not matched: Nothing
   |
85 |     Just (l, cekpad) = B.uncons lcekpad
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[14 of 30] Compiling Crypto.Store.KeyWrap.AES
[15 of 30] Compiling Crypto.Store.Cipher.RC2
[16 of 30] Compiling Crypto.Store.CMS.Algorithms

src/Crypto/Store/CMS/Algorithms.hs:510:21: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a lambda abstraction:
        Patterns of type ‘ASN1’ not matched:
            Boolean _
            IntVal _
            BitString _
            Null
            ...
    |
510 |         getNext >>= \(OctetString str) -> return (fn p str)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/CMS/Algorithms.hs:1017:9: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe CCM_L’ not matched: Nothing
     |
1017 |     let Just l = fromL (15 - ivlen)
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/CMS/Algorithms.hs:1521:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
     |
1521 |             Just iv'  = makeIV lastBlock
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/CMS/Algorithms.hs:1532:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
     |
1532 |     Just iv'  = makeIV (B.dropView beg (B.length beg - sz))
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/CMS/Algorithms.hs:1533:5: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
     |
1533 |     Just iv'' = makeIV lastBlock
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Crypto/Store/CMS/Algorithms.hs:1895:9: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
     |
1895 |     let Just iv = makeIV (bs :: ByteString)
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[17 of 30] Compiling Crypto.Store.PKCS5.PBES1
[18 of 30] Compiling Crypto.Store.CMS.Encrypted
[19 of 30] Compiling Crypto.Store.PKCS5
[20 of 30] Compiling Crypto.Store.PKCS8
[21 of 30] Compiling Crypto.Store.CMS.Enveloped
[22 of 30] Compiling Crypto.Store.CMS.AuthEnveloped
[23 of 30] Compiling Crypto.Store.CMS.Signed
[24 of 30] Compiling Crypto.Store.CMS.Digested
[25 of 30] Compiling Crypto.Store.CMS.Authenticated
[26 of 30] Compiling Crypto.Store.CMS.Info

src/Crypto/Store/CMS/Info.hs:24:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.Fail’ is redundant
      except perhaps to import instances from ‘Control.Monad.Fail’
    To import instances alone, use: import Control.Monad.Fail()
   |
24 | import Control.Monad.Fail (MonadFail)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[27 of 30] Compiling Crypto.Store.CMS.PEM
[28 of 30] Compiling Crypto.Store.CMS
[29 of 30] Compiling Crypto.Store.PKCS12

src/Crypto/Store/PKCS12.hs:80:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
80 | import           Data.Semigroup
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[30 of 30] Compiling Crypto.Store.X509
Configuring test suite 'test-cryptostore' for cryptostore-0.3.1.0...
Preprocessing test suite 'test-cryptostore' for cryptostore-0.3.1.0...
Building test suite 'test-cryptostore' for cryptostore-0.3.1.0...
[ 1 of 14] Compiling Util

tests/Util.hs:38:9: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (struct a)’ not matched: Nothing
   |
38 |     let Just r = m in return r
   |         ^^^^^^^^^^

tests/Util.hs:45:9: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (struct a)’ not matched: Nothing
   |
45 |     let Just r = m in return r
   |         ^^^^^^^^^^
[ 2 of 14] Compiling KeyWrap.TripleDES

tests/KeyWrap/TripleDES.hs:68:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
68 |             Just iv = makeIV ivBs
   |             ^^^^^^^^^^^^^^^^^^^^^

tests/KeyWrap/TripleDES.hs:77:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV cipher)’ not matched: Nothing
   |
77 |             Just iv = makeIV vecIV
   |             ^^^^^^^^^^^^^^^^^^^^^^
[ 3 of 14] Compiling KeyWrap.AES
[ 4 of 14] Compiling Cipher.RC2
[ 5 of 14] Compiling X509.Instances
[ 6 of 14] Compiling KeyWrap.RC2

tests/KeyWrap/RC2.hs:76:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV RC2)’ not matched: Nothing
   |
76 |       where Just iv = makeIV ivBs
   |             ^^^^^^^^^^^^^^^^^^^^^

tests/KeyWrap/RC2.hs:85:13: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe (IV RC2)’ not matched: Nothing
   |
85 |             Just iv = makeIV vecIV
   |             ^^^^^^^^^^^^^^^^^^^^^^
[ 7 of 14] Compiling CMS.Instances

tests/CMS/Instances.hs:129:35: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe SomeNat’ not matched: Nothing
    |
129 |   where unwrap (Positive i) = let Just n = someNatVal (127 + i) in n
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 8 of 14] Compiling PKCS8.Instances
[ 9 of 14] Compiling PKCS8.Tests

tests/PKCS8/Tests.hs:31:23: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
31 |                   let [Unprotected kI] = kInner
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:32:23: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
32 |                       [Unprotected kO] = kOuter
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:37:19: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
37 |                   [Unprotected kO] = kOuter
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:42:19: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
42 |                   [Unprotected kI] = kInner
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:56:19: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
56 |                   [Unprotected kO] = kOuter
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:86:31: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[OptProtected
                             x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey]’ not matched:
            []
            ((Protected _):_)
            ((Unprotected _):_:_)
   |
86 |                           let [Unprotected key] = kU
   |                               ^^^^^^^^^^^^^^^^^^^^^^

tests/PKCS8/Tests.hs:87:36: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a lambda abstraction:
        Patterns of type ‘OptProtected
                            x509-1.7.7-63eac8c9fc4d2be976ceb55f8d49963383191cf5ebff7153a0faf703fe5e753f:Data.X509.PrivateKey.PrivKey’ not matched:
            Unprotected _
   |
87 |                            in all (\(Protected getKey) -> getKey pwd == Right key) kE
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[10 of 14] Compiling PKCS12.Instances

tests/PKCS12/Instances.hs:12:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
12 | import           Data.Semigroup
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[11 of 14] Compiling PKCS12.Tests
[12 of 14] Compiling CMS.Tests

tests/CMS/Tests.hs:33:9: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            SignedDataCI _
            EnvelopedDataCI _
            DigestedDataCI _
            EncryptedDataCI _
            ...
   |
33 |     let DataCI bs = ci
   |         ^^^^^^^^^^^^^^

tests/CMS/Tests.hs:71:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            DataCI _
            EnvelopedDataCI _
            DigestedDataCI _
            EncryptedDataCI _
            ...
   |
71 |             let SignedDataCI sdEncap = ci
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:131:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            DataCI _
            SignedDataCI _
            DigestedDataCI _
            EncryptedDataCI _
            ...
    |
131 |             let EnvelopedDataCI evEncap = ci
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:173:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            DataCI _
            SignedDataCI _
            EnvelopedDataCI _
            EncryptedDataCI _
            ...
    |
173 |             let DigestedDataCI ddEncap = ci
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:202:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            DataCI _
            SignedDataCI _
            EnvelopedDataCI _
            DigestedDataCI _
            ...
    |
202 |             let EncryptedDataCI edEncap = ci
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:279:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘ContentInfo’ not matched:
            DataCI _
            SignedDataCI _
            EnvelopedDataCI _
            DigestedDataCI _
            ...
    |
279 |             let AuthEnvelopedDataCI aeEncap = ci
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:307:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Either
                            Crypto.Store.Error.StoreError
                            (SignedData EncapsulatedContent)’ not matched:
            Left _
    |
307 |             let Right sd = r
    |                 ^^^^^^^^^^^^

tests/CMS/Tests.hs:314:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Either
                            Crypto.Store.Error.StoreError
                            (EnvelopedData EncryptedContent)’ not matched:
            Left _
    |
314 |             let Right ev = r
    |                 ^^^^^^^^^^^^

tests/CMS/Tests.hs:325:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Either
                            Crypto.Store.Error.StoreError
                            (EncryptedData EncryptedContent)’ not matched:
            Left _
    |
325 |             let Right ed = encryptData key alg attrs ci
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/CMS/Tests.hs:332:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Either
                            Crypto.Store.Error.StoreError
                            (AuthenticatedData EncapsulatedContent)’ not matched:
            Left _
    |
332 |             let Right ad = r
    |                 ^^^^^^^^^^^^

tests/CMS/Tests.hs:340:17: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Either
                            Crypto.Store.Error.StoreError
                            (AuthEnvelopedData EncryptedContent)’ not matched:
            Left _
    |
340 |             let Right ae = r
    |                 ^^^^^^^^^^^^
[13 of 14] Compiling X509.Tests

tests/X509/Tests.hs:29:23: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘[SignedCertificate]’ not matched:
            []
            (_:_:_)
   |
29 |                   let [c] = cert
   |                       ^^^^^^^^^^

tests/X509/Tests.hs:38:19: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding: Patterns of type ‘[PubKey]’ not matched: []
   |
38 |               let (key : _) = readPubKeyFileFromMemory bs
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[14 of 14] Compiling Main
[15 of 15] Linking /tmp/workdir-cryptostore/cryptostore-0.3.1.0/dist-newstyle/build/x86_64-linux/ghc-9.6.6/cryptostore-0.3.1.0/t/test-cryptostore/build/test-cryptostore/test-cryptostore
