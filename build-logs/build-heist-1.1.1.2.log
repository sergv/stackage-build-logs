Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - heist-1.1.1.2 (lib) (first run)
 - heist-1.1.1.2 (test:testsuite) (first run)
Configuring library for heist-1.1.1.2...
Preprocessing library for heist-1.1.1.2...
Building library for heist-1.1.1.2...
[ 1 of 20] Compiling Data.HeterogeneousEnvironment
[ 2 of 20] Compiling Heist.Internal.Types.HeistState

src/Heist/Internal/Types/HeistState.hs:389:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘pure = return’ definition detected
    in the instance declaration for ‘Applicative (HeistT n m)’.
    Move definition from ‘return’ to ‘pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
389 |     pure = return
    |     ^^^^^^^^^^^^^

src/Heist/Internal/Types/HeistState.hs:396:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘return’ definition detected
    in the instance declaration for ‘Monad (HeistT n m)’.
    ‘return’ will eventually be removed in favour of ‘pure’
    Either remove definition for ‘return’ (recommended) or define as ‘return = pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
396 |     return a = HeistT (\_ s -> return (a, s))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 3 of 20] Compiling Heist.Common

src/Heist/Common.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
23 | import           Data.Monoid              ((<>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 4 of 20] Compiling Heist.Compiled.Internal
[ 5 of 20] Compiling Heist.Compiled.LowLevel
[ 6 of 20] Compiling Heist.Compiled
[ 7 of 20] Compiling Heist.Interpreted.Internal
[ 8 of 20] Compiling Heist.Interpreted
[ 9 of 20] Compiling Heist.Internal.Types
[10 of 20] Compiling Heist.Splices.Apply
[11 of 20] Compiling Heist.Splices.Bind
[12 of 20] Compiling Heist.Splices.BindStrict
[13 of 20] Compiling Heist.Splices.Cache
[14 of 20] Compiling Heist.Splices.Html
[15 of 20] Compiling Heist.Splices.Ignore
[16 of 20] Compiling Heist.Splices.Json
[17 of 20] Compiling Heist.Splices.Markdown
[18 of 20] Compiling Heist.Splices
[19 of 20] Compiling Heist
[20 of 20] Compiling Heist.TemplateDirectory
Configuring test suite 'testsuite' for heist-1.1.1.2...
Preprocessing test suite 'testsuite' for heist-1.1.1.2...
Building test suite 'testsuite' for heist-1.1.1.2...

<no location info>: warning: [GHC-32850] [-Wmissing-home-modules]
    These modules are needed for compilation but not listed in your .cabal file's other-modules for ‘heist-1.1.1.2-inplace-testsuite’ :
        Data.HeterogeneousEnvironment
        Heist
        Heist.Common
        Heist.Compiled
        Heist.Compiled.Internal
        Heist.Compiled.Tests
        Heist.Internal.Types
        Heist.Internal.Types.HeistState
        Heist.Interpreted
        Heist.Interpreted.Internal
        Heist.Interpreted.Tests
        Heist.Splices
        Heist.Splices.Apply
        Heist.Splices.Bind
        Heist.Splices.Cache
        Heist.Splices.Html
        Heist.Splices.Ignore
        Heist.Splices.Json
        Heist.Splices.Markdown
        Heist.TemplateDirectory
        Heist.TestCommon
        Heist.Tests
        Heist.Tutorial.AttributeSplices
        Heist.Tutorial.CompiledSplices
        Heist.Tutorial.Imports
[ 1 of 26] Compiling Data.HeterogeneousEnvironment
[ 2 of 26] Compiling Heist.Internal.Types.HeistState

src/Heist/Internal/Types/HeistState.hs:389:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘pure = return’ definition detected
    in the instance declaration for ‘Applicative (HeistT n m)’.
    Move definition from ‘return’ to ‘pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
389 |     pure = return
    |     ^^^^^^^^^^^^^

src/Heist/Internal/Types/HeistState.hs:396:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘return’ definition detected
    in the instance declaration for ‘Monad (HeistT n m)’.
    ‘return’ will eventually be removed in favour of ‘pure’
    Either remove definition for ‘return’ (recommended) or define as ‘return = pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
396 |     return a = HeistT (\_ s -> return (a, s))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 3 of 26] Compiling Heist.Common

src/Heist/Common.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
23 | import           Data.Monoid              ((<>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 4 of 26] Compiling Heist.Compiled.Internal
[ 5 of 26] Compiling Heist.Compiled
[ 6 of 26] Compiling Heist.Interpreted.Internal
[ 7 of 26] Compiling Heist.Interpreted
[ 8 of 26] Compiling Heist.Internal.Types
[ 9 of 26] Compiling Heist.Splices.Apply
[10 of 26] Compiling Heist.Splices.Bind
[11 of 26] Compiling Heist.Splices.Cache
[12 of 26] Compiling Heist.Splices.Html
[13 of 26] Compiling Heist.Splices.Ignore
[14 of 26] Compiling Heist.Splices.Json
[15 of 26] Compiling Heist.Splices.Markdown
[16 of 26] Compiling Heist.Splices
[17 of 26] Compiling Heist
[18 of 26] Compiling Heist.TemplateDirectory
[19 of 26] Compiling Heist.TestCommon

test/suite/Heist/TestCommon.hs:11:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
11 | import           Data.Monoid
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[20 of 26] Compiling Heist.Interpreted.Tests

test/suite/Heist/Interpreted/Tests.hs:23:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
23 | import           Data.Monoid
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[21 of 26] Compiling Heist.Tutorial.Imports
[22 of 26] Compiling Heist.Tutorial.CompiledSplices

test/suite/Heist/Tutorial/CompiledSplices.lhs:30:3: warning: [-Wunused-imports]
    The import of ‘Control.Applicative’ is redundant
      except perhaps to import instances from ‘Control.Applicative’
    To import instances alone, use: import Control.Applicative()
   |
30 | > import           Control.Applicative
   |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[23 of 26] Compiling Heist.Compiled.Tests

test/suite/Heist/Compiled/Tests.hs:7:1: warning: [-Wunused-imports]
    The import of ‘Control.Applicative’ is redundant
      except perhaps to import instances from ‘Control.Applicative’
    To import instances alone, use: import Control.Applicative()
  |
7 | import           Control.Applicative
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/suite/Heist/Compiled/Tests.hs:19:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
19 | import           Data.Monoid
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/suite/Heist/Compiled/Tests.hs:354:20: warning: [-Wunused-matches]
    Defined but not used: ‘ls’
    |
354 |                  l:ls -> Right l
    |                    ^^

test/suite/Heist/Compiled/Tests.hs:395:5: warning: [GHC-62161] [-Wincomplete-patterns]
    Pattern match(es) are non-exhaustive
    In an equation for ‘splices’:
        Patterns of type ‘[IORef Int]’ not matched:
            []
            [_]
            [_, _]
            [_, _, _]
            ...
    |
395 |     splices [r1, r2, r3, r4, r5] = do
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^...
[24 of 26] Compiling Heist.Tutorial.AttributeSplices
[25 of 26] Compiling Heist.Tests

test/suite/Heist/Tests.hs:16:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
16 | import           Data.Monoid
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

test/suite/Heist/Tests.hs:24:1: warning: [-Wunused-imports]
    The import of ‘Heist’ is redundant
      except perhaps to import instances from ‘Heist’
    To import instances alone, use: import Heist()
   |
24 | import           Heist
   | ^^^^^^^^^^^^^^^^^^^^^^
[26 of 26] Compiling Main

<no location info>: warning: [GHC-32850] [-Wmissing-home-modules]
    These modules are needed for compilation but not listed in your .cabal file's other-modules for ‘heist-1.1.1.2-inplace-testsuite’ :
        Data.HeterogeneousEnvironment
        Heist
        Heist.Common
        Heist.Compiled
        Heist.Compiled.Internal
        Heist.Compiled.Tests
        Heist.Internal.Types
        Heist.Internal.Types.HeistState
        Heist.Interpreted
        Heist.Interpreted.Internal
        Heist.Interpreted.Tests
        Heist.Splices
        Heist.Splices.Apply
        Heist.Splices.Bind
        Heist.Splices.Cache
        Heist.Splices.Html
        Heist.Splices.Ignore
        Heist.Splices.Json
        Heist.Splices.Markdown
        Heist.TemplateDirectory
        Heist.TestCommon
        Heist.Tests
        Heist.Tutorial.AttributeSplices
        Heist.Tutorial.CompiledSplices
        Heist.Tutorial.Imports
[27 of 27] Linking /tmp/workdir-heist/heist-1.1.1.2/dist-newstyle/build/x86_64-linux/ghc-9.6.6/heist-1.1.1.2/t/testsuite/build/testsuite/testsuite
