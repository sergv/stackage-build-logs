Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - happstack-server-7.8.0.2 (lib) (first run)
 - happstack-server-7.8.0.2 (test:happstack-server-tests) (first run)
Configuring library for happstack-server-7.8.0.2...
Preprocessing library for happstack-server-7.8.0.2...
Building library for happstack-server-7.8.0.2...

src/Happstack/Server/SimpleHTTP.hs:3:14: warning: [-Wdeprecated-flags]
    -XOverlappingInstances is deprecated: instead use per-instance pragmas OVERLAPPING/OVERLAPPABLE/OVERLAPS
  |
3 | {-# LANGUAGE OverlappingInstances #-}
  |              ^^^^^^^^^^^^^^^^^^^^
[ 1 of 35] Compiling Happstack.Server.Internal.Clock
[ 2 of 35] Compiling Happstack.Server.Internal.Cookie

src/Happstack/Server/Internal/Cookie.hs:21:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.Fail’ is redundant
      except perhaps to import instances from ‘Control.Monad.Fail’
    To import instances alone, use: import Control.Monad.Fail()
   |
21 | import Control.Monad.Fail (MonadFail)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 3 of 35] Compiling Happstack.Server.Internal.LazyLiner
[ 4 of 35] Compiling Happstack.Server.Internal.LogFormat

src/Happstack/Server/Internal/LogFormat.hs:8:1: warning: [GHC-99623] [-Wdodgy-imports]
    The import item ‘FormatTime(..)’ suggests that
    ‘FormatTime’ has (in-scope) constructors or class methods,
    but it has none
  |
8 | import Data.Time.Format (FormatTime(..), formatTime, defaultTimeLocale)
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 5 of 35] Compiling Happstack.Server.Internal.RFC822Headers

src/Happstack/Server/Internal/RFC822Headers.hs:47:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.Fail’ is redundant
      except perhaps to import instances from ‘Control.Monad.Fail’
    To import instances alone, use: import Control.Monad.Fail()
   |
47 | import Control.Monad.Fail (MonadFail)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 6 of 35] Compiling Happstack.Server.Internal.Socket
[ 7 of 35] Compiling Happstack.Server.Internal.TimeoutManager
[ 8 of 35] Compiling Happstack.Server.Internal.TimeoutIO
[ 9 of 35] Compiling Happstack.Server.Internal.TimeoutSocket

src/Happstack/Server/Internal/TimeoutSocket.hs:7:1: warning: [-Wunused-imports]
    The import of ‘Control.Applicative’ is redundant
      except perhaps to import instances from ‘Control.Applicative’
    To import instances alone, use: import Control.Applicative()
  |
7 | import           Control.Applicative           (pure)
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[10 of 35] Compiling Happstack.Server.SURI
[11 of 35] Compiling Happstack.Server.Internal.Types

src/Happstack/Server/Internal/Types.hs:23:38: warning: [-Wunused-imports]
    The import of ‘SomeException’
    from module ‘Control.Exception’ is redundant
   |
23 | import Control.Exception (Exception, SomeException)
   |                                      ^^^^^^^^^^^^^

src/Happstack/Server/Internal/Types.hs:27:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.Fail’ is redundant
      except perhaps to import instances from ‘Control.Monad.Fail’
    To import instances alone, use: import Control.Monad.Fail()
   |
27 | import Control.Monad.Fail (MonadFail)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/Internal/Types.hs:34:1: warning: [GHC-99623] [-Wdodgy-imports]
    The import item ‘FormatTime(..)’ suggests that
    ‘FormatTime’ has (in-scope) constructors or class methods,
    but it has none
   |
34 | import Data.Time.Format (FormatTime(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/Internal/Types.hs:43:20: warning: [-Wunused-imports]
    The import of ‘Word’ from module ‘Data.Word’ is redundant
   |
43 | import Data.Word  (Word, Word8, Word16, Word32, Word64)
   |                    ^^^^
[12 of 35] Compiling Happstack.Server.Internal.Multipart
[13 of 35] Compiling Happstack.Server.Internal.MessageWrap
[14 of 35] Compiling Happstack.Server.SURI.ParseURI
[15 of 35] Compiling Happstack.Server.Types
[16 of 35] Compiling Paths_happstack_server
[17 of 35] Compiling Happstack.Server.Internal.Monads

src/Happstack/Server/Internal/Monads.hs:64:171: warning: [-Wunused-imports]
    The import of ‘||’ from module ‘Prelude’ is redundant
   |
64 | import Prelude                                   (Bool(..), Either(..), Eq(..), Functor(..), IO, Monad(..), Char, Maybe(..), String, Show(..), ($), (.), (>), (++), (&&), (||), (=<<), const, concatMap, flip, id, otherwise, zip)
   |                                                                                                                                                                           ^^^^

src/Happstack/Server/Internal/Monads.hs:192:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘pure = return’ definition detected
    in the instance declaration for ‘Applicative (ServerPartT m)’.
    Move definition from ‘return’ to ‘pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
192 |     pure = return
    |     ^^^^^^^^^^^^^

src/Happstack/Server/Internal/Monads.hs:396:37: warning: [-Wunused-matches]
    Defined but not used: ‘runError’
    |
396 |     liftWith f = WebT $ liftWith $ \runError ->
    |                                     ^^^^^^^^

src/Happstack/Server/Internal/Monads.hs:465:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘return’ definition detected
    in the instance declaration for ‘Monad (WebT m)’.
    ‘return’ will eventually be removed in favour of ‘pure’
    Either remove definition for ‘return’ (recommended) or define as ‘return = pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
465 |     return a = WebT $ return a
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/Internal/Monads.hs:555:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘pure = return’ definition detected
    in the instance declaration for ‘Applicative (WebT m)’.
    Move definition from ‘return’ to ‘pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
555 |     pure = return
    |     ^^^^^^^^^^^^^
[18 of 35] Compiling Happstack.Server.Response

src/Happstack/Server/Response.hs:39:1: warning: [-Wunused-imports]
    The import of ‘Happstack.Server.Types’ is redundant
      except perhaps to import instances from ‘Happstack.Server.Types’
    To import instances alone, use: import Happstack.Server.Types()
   |
39 | import           Happstack.Server.Types          (Response(..), Request(..), nullRsFlags, getHeader, noContentLength, redirect, result, setHeader, setHeaderBS)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[19 of 35] Compiling Happstack.Server.Validation
[20 of 35] Compiling Happstack.Server.Cookie
[21 of 35] Compiling Happstack.Server.RqData

src/Happstack/Server/RqData.hs:61:1: warning: [-Wunused-imports]
    The import of ‘<*>, Applicative, pure’
    from module ‘Control.Applicative’ is redundant
   |
61 | import Control.Applicative                      (Applicative((<*>), pure), Alternative((<|>), empty), WrappedMonad(WrapMonad, unwrapMonad))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/RqData.hs:73:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad.Except’ is redundant
      except perhaps to import instances from ‘Control.Monad.Except’
    To import instances alone, use: import Control.Monad.Except()
   |
73 | import Control.Monad.Except                     (throwError)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/RqData.hs:76:1: warning: [-Wunused-imports]
    The qualified import of ‘Data.ByteString.Char8’ is redundant
      except perhaps to import instances from ‘Data.ByteString.Char8’
    To import instances alone, use: import Data.ByteString.Char8()
   |
76 | import qualified Data.ByteString.Char8          as P
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/RqData.hs:83:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
83 | import Data.Monoid                              (Monoid(mempty, mappend, mconcat))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/RqData.hs:117:5: warning: [-Wnoncanonical-monad-instances]
    Noncanonical ‘pure = return’ definition detected
    in the instance declaration for ‘Applicative (ReaderError r e)’.
    Move definition from ‘return’ to ‘pure’
    See also: https://gitlab.haskell.org/ghc/ghc/-/wikis/proposal/monad-of-no-return
    |
117 |     pure = return
    |     ^^^^^^^^^^^^^
[22 of 35] Compiling Happstack.Server.Monads

src/Happstack/Server/Monads.hs:42:56: warning: [-Wunused-imports]
    The import of ‘Applicative’
    from module ‘Control.Applicative’ is redundant
   |
42 | import Control.Applicative               (Alternative, Applicative)
   |                                                        ^^^^^^^^^^^

src/Happstack/Server/Monads.hs:57:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
57 | import Data.Monoid                       (Monoid)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[23 of 35] Compiling Happstack.Server.Routing
[24 of 35] Compiling Happstack.Server.FileServe.BuildingBlocks
[25 of 35] Compiling Happstack.Server.FileServe
[26 of 35] Compiling Happstack.Server.Error
[27 of 35] Compiling Happstack.Server.Auth
[28 of 35] Compiling Happstack.Server.Internal.Handler

src/Happstack/Server/Internal/Handler.hs:11:1: warning: [-Wunused-imports]
    The import of ‘Control.Applicative’ is redundant
      except perhaps to import instances from ‘Control.Applicative’
    To import instances alone, use: import Control.Applicative()
   |
11 | import Control.Applicative (pure)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/Happstack/Server/Internal/Handler.hs:179:41: warning: [GHC-62161] [-Wincomplete-uni-patterns]
    Pattern match(es) are non-exhaustive
    In a pattern binding:
        Patterns of type ‘Maybe Int’ not matched: Nothing
    |
179 |                                         Just i = elemIndex True $ zipWith (&&) iscrlf (tail (tail iscrlf))
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[29 of 35] Compiling Happstack.Server.Internal.Listen
[30 of 35] Compiling Happstack.Server.SimpleHTTP
[31 of 35] Compiling Happstack.Server.Internal.Compression
[32 of 35] Compiling Happstack.Server.I18N
[33 of 35] Compiling Happstack.Server.Compression
[34 of 35] Compiling Happstack.Server
[35 of 35] Compiling Happstack.Server.Internal.LowLevel
Configuring test suite 'happstack-server-tests' for happstack-server-7.8.0.2...
Preprocessing test suite 'happstack-server-tests' for happstack-server-7.8.0.2...
Building test suite 'happstack-server-tests' for happstack-server-7.8.0.2...
[1 of 2] Compiling Happstack.Server.Tests
[2 of 2] Compiling Main
[3 of 3] Linking /tmp/workdir-happstack-server/happstack-server-7.8.0.2/dist-newstyle/build/x86_64-linux/ghc-9.6.6/happstack-server-7.8.0.2/t/happstack-server-tests/build/happstack-server-tests/happstack-server-tests
