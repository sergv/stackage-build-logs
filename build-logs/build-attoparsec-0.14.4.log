Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - attoparsec-0.14.4 (lib:attoparsec-internal) (first run)
 - attoparsec-0.14.4 (lib) (first run)
 - attoparsec-0.14.4 (test:attoparsec-tests) (first run)
Configuring library 'attoparsec-internal' for attoparsec-0.14.4...
Preprocessing library 'attoparsec-internal' for attoparsec-0.14.4...
Building library 'attoparsec-internal' for attoparsec-0.14.4...
[1 of 6] Compiling Data.Attoparsec.ByteString.FastSet

internal/Data/Attoparsec/ByteString/FastSet.hs:97:18: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘memset’
    (imported from Data.ByteString.Internal, but defined in Data.ByteString.Internal.Type):
    Deprecated: "Use Foreign.Marshal.Utils.fillBytes instead"
   |
97 |             _ <- I.memset t 0 32
   |                  ^^^^^^^^
[2 of 6] Compiling Data.Attoparsec.Internal.Compat
[3 of 6] Compiling Data.Attoparsec.Internal.Fhthagn
[4 of 6] Compiling Data.Attoparsec.ByteString.Buffer

internal/Data/Attoparsec/ByteString/Buffer.hs:62:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
62 | import Data.Semigroup (Semigroup(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

internal/Data/Attoparsec/ByteString/Buffer.hs:121:11: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘memcpy’
    (imported from Data.ByteString.Internal, but defined in Data.ByteString.Internal.Type):
    Deprecated: "Use Foreign.Marshal.Utils.copyBytes instead"
    |
121 |           memcpy (ptr0 `plusPtr` (off0+len0))
    |           ^^^^^^

internal/Data/Attoparsec/ByteString/Buffer.hs:132:13: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘memcpy’
    (imported from Data.ByteString.Internal, but defined in Data.ByteString.Internal.Type):
    Deprecated: "Use Foreign.Marshal.Utils.copyBytes instead"
    |
132 |             memcpy ptr (ptr0 `plusPtr` off0) (fromIntegral len0)
    |             ^^^^^^

internal/Data/Attoparsec/ByteString/Buffer.hs:133:13: warning: [GHC-68441] [-Wdeprecations]
    In the use of ‘memcpy’
    (imported from Data.ByteString.Internal, but defined in Data.ByteString.Internal.Type):
    Deprecated: "Use Foreign.Marshal.Utils.copyBytes instead"
    |
133 |             memcpy (ptr `plusPtr` len0) (ptr1 `plusPtr` off1)
    |             ^^^^^^
[5 of 6] Compiling Data.Attoparsec.Text.Buffer

internal/Data/Attoparsec/Text/Buffer.hs:44:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
44 | import Data.Semigroup (Semigroup(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[6 of 6] Compiling Data.Attoparsec.Text.FastSet
Configuring library for attoparsec-0.14.4...
Preprocessing library for attoparsec-0.14.4...
Building library for attoparsec-0.14.4...
[ 1 of 16] Compiling Data.Attoparsec.Internal.Types

Data/Attoparsec/Internal/Types.hs:28:53: warning: [-Wunused-imports]
    The import of ‘<$>’ from module ‘Control.Applicative’ is redundant
   |
28 | import Control.Applicative as App (Applicative(..), (<$>))
   |                                                     ^^^^^

Data/Attoparsec/Internal/Types.hs:34:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
34 | import Data.Semigroup  (Semigroup(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 2 of 16] Compiling Data.Attoparsec.Internal
[ 3 of 16] Compiling Data.Attoparsec.Number
[ 4 of 16] Compiling Data.Attoparsec.Types
[ 5 of 16] Compiling Data.Attoparsec.Zepto

Data/Attoparsec/Zepto.hs:46:1: warning: [-Wunused-imports]
    The import of ‘Data.Semigroup’ is redundant
      except perhaps to import instances from ‘Data.Semigroup’
    To import instances alone, use: import Data.Semigroup()
   |
46 | import Data.Semigroup (Semigroup(..))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ 6 of 16] Compiling Data.Attoparsec.Combinator

Data/Attoparsec/Combinator.hs:46:46: warning: [-Wunused-imports]
    The import of ‘liftA2’
    from module ‘Control.Applicative’ is redundant
   |
46 | import Control.Applicative (Alternative(..), liftA2, many, (<|>))
   |                                              ^^^^^^
[ 7 of 16] Compiling Data.Attoparsec.Text.Internal

Data/Attoparsec/Text/Internal.hs:68:1: warning: [-Wunused-imports]
    The import of ‘*>, <$>, pure’
    from module ‘Control.Applicative’ is redundant
   |
68 | import Control.Applicative ((<|>), (<$>), pure, (*>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Data/Attoparsec/Text/Internal.hs:91:13: warning: [GHC-58520] [-Wtype-equality-requires-operators]
    The use of ‘~’ without TypeOperators
    will become an error in a future GHC release.
    Suggested fix: Perhaps you intended to use TypeOperators
   |
91 | instance (a ~ Text) => IsString (Parser a) where
   |             ^
[ 8 of 16] Compiling Data.Attoparsec.Text
[ 9 of 16] Compiling Data.Attoparsec.Text.Lazy
[10 of 16] Compiling Data.Attoparsec.ByteString.Internal
[11 of 16] Compiling Data.Attoparsec.ByteString
[12 of 16] Compiling Data.Attoparsec.ByteString.Lazy
[13 of 16] Compiling Data.Attoparsec.Lazy
[14 of 16] Compiling Data.Attoparsec.ByteString.Char8

Data/Attoparsec/ByteString/Char8.hs:154:13: warning: [GHC-58520] [-Wtype-equality-requires-operators]
    The use of ‘~’ without TypeOperators
    will become an error in a future GHC release.
    Suggested fix: Perhaps you intended to use TypeOperators
    |
154 | instance (a ~ B.ByteString) => IsString (Parser a) where
    |             ^
[15 of 16] Compiling Data.Attoparsec.Char8
[16 of 16] Compiling Data.Attoparsec
Configuring test suite 'attoparsec-tests' for attoparsec-0.14.4...
Preprocessing test suite 'attoparsec-tests' for attoparsec-0.14.4...
Building test suite 'attoparsec-tests' for attoparsec-0.14.4...
[ 1 of 12] Compiling QC.Common
[ 2 of 12] Compiling QC.Combinator
[ 3 of 12] Compiling QC.ByteString
[ 4 of 12] Compiling QC.Buffer
[ 5 of 12] Compiling QC.IPv6.Types
[ 6 of 12] Compiling QC.IPv6.Internal

tests/QC/IPv6/Internal.hs:32:1: warning: [-Wunused-imports]
    The import of ‘Control.Monad’ is redundant
      except perhaps to import instances from ‘Control.Monad’
    To import instances alone, use: import Control.Monad()
   |
32 | import Control.Monad (replicateM)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:34:1: warning: [-Wunused-imports]
    The import of ‘isHexDigit, toLower’
    from module ‘Data.Char’ is redundant
   |
34 | import Data.Char (isDigit,isHexDigit,toLower)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:35:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
35 | import Data.Monoid ((<>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:36:35: warning: [-Wunused-imports]
    The import of ‘<*’ from module ‘Control.Applicative’ is redundant
   |
36 | import Control.Applicative ((<|>),(<*))
   |                                   ^^^^

tests/QC/IPv6/Internal.hs:38:1: warning: [-Wunused-imports]
    The import of ‘Data.Word’ is redundant
      except perhaps to import instances from ‘Data.Word’
    To import instances alone, use: import Data.Word()
   |
38 | import Data.Word (Word32)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:46:1: warning: [GHC-38417] [-Wmissing-signatures]
    Top-level binding with no type signature: tok0 :: T.Text
   |
46 | tok0 = "0"
   | ^^^^

tests/QC/IPv6/Internal.hs:68:36: warning: [-Wunused-matches]
    Defined but not used: ‘tok1’
   |
68 | isIPv6Addr [DoubleColon,SixteenBit tok1] = True
   |                                    ^^^^

tests/QC/IPv6/Internal.hs:77:17: warning: [GHC-18042] [-Wtype-defaults]
    • Defaulting the type variable ‘a0’ to type ‘Integer’ in the following constraints
        (Eq a0)
          arising from the literal ‘0’ at tests/QC/IPv6/Internal.hs:77:17
        (Num a0)
          arising from the literal ‘0’ at tests/QC/IPv6/Internal.hs:77:17
        (Num a0)
          arising from a use of ‘oneMoreIPv4Addr’
          at tests/QC/IPv6/Internal.hs:109:23-37
        (Eq a0)
          arising from a use of ‘==’ at tests/QC/IPv6/Internal.hs:221:45-46
        (Num a0)
          arising from the literal ‘1’ at tests/QC/IPv6/Internal.hs:221:48
    • In the pattern: 0
      In a case alternative:
          0 -> case lasttk of
                 SixteenBit _ -> lenconst
                 DoubleColon -> lenconst
                 AllZeros -> lenconst
                 _ -> False
      In the second argument of ‘(&&)’, namely
        ‘(case countIPv4Addr tks of
            0 -> case lasttk of
                   SixteenBit _ -> lenconst
                   DoubleColon -> lenconst
                   AllZeros -> lenconst
                   _ -> False
            1 -> case lasttk of
                   IPv4Addr _
                     -> (lentks == 13 && cdctks == 0) || (lentks < 12 && cdctks == 1)
                   _ -> False
            otherwise -> False)’
   |
77 |                 0 -> case lasttk of
   |                 ^

tests/QC/IPv6/Internal.hs:85:17: warning: [-Wunused-matches]
    Defined but not used: ‘otherwise’
   |
85 |                 otherwise -> False))
   |                 ^^^^^^^^^

tests/QC/IPv6/Internal.hs:85:17: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘otherwise’ shadows the existing binding
      imported from ‘Prelude’ at tests/QC/IPv6/Internal.hs:16:8-23
      (and originally defined in ‘GHC.Base’)
   |
85 |                 otherwise -> False))
   |                 ^^^^^^^^^

tests/QC/IPv6/Internal.hs:107:17: warning: [-Wunused-local-binds]
    Defined but not used: ‘tok1’
    |
107 |                 tok1 = "1"
    |                 ^^^^

tests/QC/IPv6/Internal.hs:107:24: warning: [GHC-18042] [-Wtype-defaults]
    • Defaulting the type variable ‘a0’ to type ‘String’ in the following constraint
        Data.String.IsString a0 arising from the literal ‘"1"’
    • In the expression: "1"
      In an equation for ‘tok1’: tok1 = "1"
      In an equation for ‘isIPv6Addr’:
          isIPv6Addr tks
            = diffNext tks
                &&
                  (do let cdctks = countDoubleColon tks
                      let lentks = length tks
                      let lasttk = last tks
                      let lenconst
                            = (lentks == 15 && cdctks == 0) || (lentks < 15 && cdctks == 1)
                      ....)
            where
                diffNext [] = False
                diffNext [_] = True
                diffNext (t : ts)
                  = do let ...
                       ....
                firstValidToken l
                  = case head l of
                      SixteenBit _ -> True
                      DoubleColon -> True
                      AllZeros -> True
                      _ -> False
                countDoubleColon l = length $ elemIndices DoubleColon l
                tok1 = "1"
    |
107 |                 tok1 = "1"
    |                        ^^^

tests/QC/IPv6/Internal.hs:109:1: warning: [GHC-38417] [-Wmissing-signatures]
    Top-level binding with no type signature:
      countIPv4Addr :: [IPv6AddrToken] -> Integer
    |
109 | countIPv4Addr = foldr oneMoreIPv4Addr 0
    | ^^^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:113:31: warning: [-Wunused-matches]
    Defined but not used: ‘otherwise’
    |
113 |                               otherwise  -> c
    |                               ^^^^^^^^^

tests/QC/IPv6/Internal.hs:113:31: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘otherwise’ shadows the existing binding
      imported from ‘Prelude’ at tests/QC/IPv6/Internal.hs:16:8-23
      (and originally defined in ‘GHC.Base’)
    |
113 |                               otherwise  -> c
    |                               ^^^^^^^^^

tests/QC/IPv6/Internal.hs:145:5: warning: [GHC-62161] [-Wincomplete-patterns]
    Pattern match(es) are non-exhaustive
    In a case alternative:
        Patterns of type ‘IResult T.Text [IPv6AddrToken]’ not matched:
            Partial _
    |
145 |     case readText s of
    |     ^^^^^^^^^^^^^^^^^^...

tests/QC/IPv6/Internal.hs:149:14: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘s’ shadows the existing binding
      bound at tests/QC/IPv6/Internal.hs:144:21
    |
149 |     readText s = feed (parse (many1 $ ipv4Addr <|> sixteenBit <|> doubleColon <|> colon) s) T.empty
    |              ^

tests/QC/IPv6/Internal.hs:219:34: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘x’ shadows the existing binding
      bound at tests/QC/IPv6/Internal.hs:218:42
    |
219 |             ntks tks - foldl (\c x -> if (x /= DoubleColon) && (x /= Colon) then c+1 else c) 0 x
    |                                  ^

tests/QC/IPv6/Internal.hs:221:18: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘tks’ shadows the existing binding
      bound at tests/QC/IPv6/Internal.hs:207:17
    |
221 |             ntks tks = if countIPv4Addr tks == 1 then 7 else 8
    |                  ^^^

tests/QC/IPv6/Internal.hs:242:25: warning: [GHC-63397] [-Wname-shadowing]
    This binding for ‘t’ shadows the existing binding
      bound at tests/QC/IPv6/Internal.hs:235:23
    |
242 |           where longest t = case t of
    |                         ^

tests/QC/IPv6/Internal.hs:298:12: warning: [GHC-18042] [-Wtype-defaults]
    • Defaulting the type variable ‘a0’ to type ‘Integer’ in the following constraints
        (Integral a0)
          arising from a use of ‘R.decimal’
          at tests/QC/IPv6/Internal.hs:298:12-20
        (Ord a0)
          arising from a use of ‘<’ at tests/QC/IPv6/Internal.hs:299:39
        (Num a0)
          arising from the literal ‘256’
          at tests/QC/IPv6/Internal.hs:299:41-43
        (Show a0)
          arising from a use of ‘show’ at tests/QC/IPv6/Internal.hs:299:59-62
    • In the expression: R.decimal ds
      In a stmt of a 'do' block:
        case R.decimal ds of
          Right (n, _)
            -> return (if n < 256 then T.pack $ show n else T.empty)
          Left _ -> return T.empty
      In the expression:
        do ds <- takeWhile1 isDigit
           case R.decimal ds of
             Right (n, _)
               -> return (if n < 256 then T.pack $ show n else T.empty)
             Left _ -> return T.empty
    |
298 |       case R.decimal ds of
    |            ^^^^^^^^^

tests/QC/IPv6/Internal.hs:304:5: warning: [GHC-81995] [-Wunused-do-bind]
    A do-notation statement discarded a result of type ‘T.Text’
    Suggested fix: Suppress this warning by saying ‘_ <- string "::"’
    |
304 |     string "::"
    |     ^^^^^^^^^^^

tests/QC/IPv6/Internal.hs:309:5: warning: [GHC-81995] [-Wunused-do-bind]
    A do-notation statement discarded a result of type ‘T.Text’
    Suggested fix: Suppress this warning by saying ‘_ <- string ":"’
    |
309 |     string ":"
    |     ^^^^^^^^^^
[ 7 of 12] Compiling QC.Rechunked
[ 8 of 12] Compiling QC.Simple
[ 9 of 12] Compiling QC.Text.FastSet
[10 of 12] Compiling QC.Text.Regressions

tests/QC/Text/Regressions.hs:12:1: warning: [-Wunused-imports]
    The import of ‘Data.Monoid’ is redundant
      except perhaps to import instances from ‘Data.Monoid’
    To import instances alone, use: import Data.Monoid()
   |
12 | import Data.Monoid ((<>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^
[11 of 12] Compiling QC.Text
[12 of 12] Compiling Main
[13 of 13] Linking /tmp/workdir-attoparsec/attoparsec-0.14.4/dist-newstyle/build/x86_64-linux/ghc-9.6.6/attoparsec-0.14.4/t/attoparsec-tests/build/attoparsec-tests/attoparsec-tests
