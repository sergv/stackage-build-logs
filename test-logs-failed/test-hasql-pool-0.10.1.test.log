Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - hasql-pool-0.10.1 (test:test) (ephemeral targets)
Preprocessing test suite 'test' for hasql-pool-0.10.1...
Building test suite 'test' for hasql-pool-0.10.1...
Running 1 test suites...
Test suite test: RUNNING...

Main[25:11]
  Releases a spot in the pool when there is a query error [✘]
  Simulation of connection error works [✘]
  Connection errors cause eviction of connection [✘]
  Connection gets returned to the pool after normal use [✘]
  Connection gets returned to the pool after non-connection error [✘]
  The pool remains usable after release [✘]
  Getting and setting session variables works [✘]
  Session variables stay set when a connection gets reused [✘]
  Releasing the pool resets session variables [✘]
  Times out connection acquisition [✘]
  Passively times out old connections (maxLifetime) [✘]
  Counts active connections [✘]
  Actively times out old connections (maxLifetime) [✘]
  Times out old connections (maxIdletime) [✘]

Failures:

  test/Main.hs:28:33: 
  1) Main[25:11] Releases a spot in the pool when there is a query error
       expected: Right 1
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Releases a spot in the pool when there is a query error/" --seed 2096882090

  test/Main.hs:31:7: 
  2) Main[25:11] Simulation of connection error works
       predicate failed on: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Simulation of connection error works/" --seed 2096882090

  test/Main.hs:39:7: 
  3) Main[25:11] Connection errors cause eviction of connection
       predicate failed on: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Connection errors cause eviction of connection/" --seed 2096882090

  test/Main.hs:46:7: 
  4) Main[25:11] Connection gets returned to the pool after normal use
       predicate failed on: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Connection gets returned to the pool after normal use/" --seed 2096882090

  test/Main.hs:53:7: 
  5) Main[25:11] Connection gets returned to the pool after non-connection error
       predicate failed on: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Connection gets returned to the pool after non-connection error/" --seed 2096882090

  test/Main.hs:58:7: 
  6) Main[25:11] The pool remains usable after release
       predicate failed on: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/The pool remains usable after release/" --seed 2096882090

  test/Main.hs:61:11: 
  7) Main[25:11] Getting and setting session variables works
       expected: Right Nothing
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Getting and setting session variables works/" --seed 2096882090

  test/Main.hs:68:11: 
  8) Main[25:11] Session variables stay set when a connection gets reused
       expected: Right ()
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Session variables stay set when a connection gets reused/" --seed 2096882090

  test/Main.hs:73:11: 
  9) Main[25:11] Releasing the pool resets session variables
       expected: Right ()
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Releasing the pool resets session variables/" --seed 2096882090

  test/Main.hs:97:13: 
  10) Main[25:11] Times out connection acquisition
       expected: Right (Left AcquisitionTimeoutUsageError)
        but got: Left (Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")))

  To rerun use: --match "/Main[25:11]/Times out connection acquisition/" --seed 2096882090

  test/Main.hs:105:13: 
  11) Main[25:11] Passively times out old connections (maxLifetime)
       expected: Right ()
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Passively times out old connections (maxLifetime)/" --seed 2096882090

  test/Main.hs:115:13: 
  12) Main[25:11] Counts active connections
       expected: Right 1
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Counts active connections/" --seed 2096882090

  test/Main.hs:122:15: 
  13) Main[25:11] Actively times out old connections (maxLifetime)
       expected: Right 1
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Actively times out old connections (maxLifetime)/" --seed 2096882090

  test/Main.hs:132:13: 
  14) Main[25:11] Times out old connections (maxIdletime)
       expected: Right ()
        but got: Left (ConnectionUsageError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))

  To rerun use: --match "/Main[25:11]/Times out old connections (maxIdletime)/" --seed 2096882090

Randomized with seed 2096882090

Finished in 0.0085 seconds
14 examples, 14 failures
Test suite test: FAIL
Test suite logged to:
/tmp/workdir-hasql-pool/hasql-pool-0.10.1/dist-newstyle/build/x86_64-linux/ghc-9.6.6/hasql-pool-0.10.1/t/test/test/hasql-pool-0.10.1-test.log
0 of 1 test suites (0 of 1 test cases) passed.
Error: [Cabal-7125]
Tests failed for test:test from hasql-pool-0.10.1.

