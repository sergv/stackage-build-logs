Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - c2hs-0.28.8 (test:test-bugs) (ephemeral targets)
Preprocessing test suite 'test-bugs' for c2hs-0.28.8...
Building test suite 'test-bugs' for c2hs-0.28.8...

<no location info>: warning: [GHC-32850] [-Wmissing-home-modules]
    These modules are needed for compilation but not listed in your .cabal file's other-modules for ‘c2hs-0.28.8-inplace-test-bugs’ :
        Paths_c2hs

<no location info>: warning: [GHC-32850] [-Wmissing-home-modules]
    These modules are needed for compilation but not listed in your .cabal file's other-modules for ‘c2hs-0.28.8-inplace-test-bugs’ :
        Paths_c2hs
Running 1 test suites...
Test suite test-bugs: RUNNING...
** Call hook for `C':
extractCompType: checking for alias
extractCompType: checking for alias
Imported function type: (IO ())
** Call hook for `c':
extractCompType: checking for alias
extractCompType: checking for alias
Imported function type: (IO ())
** Call hook for `C':
extractCompType: checking for alias
extractCompType: checking for alias
Imported function type: (IO ())
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Capital.hs, Capital.o )
[2 of 2] Linking Capital
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue9.hs, Issue9.o )
[2 of 2] Linking Issue9
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue10.hs, Issue10.o )
[2 of 2] Linking Issue10
issue15.c: In function ‘tst_val’:
issue15.c:3:10: warning: multi-character character constant [-Wmultichar]
    3 |   return 'drag';
      |          ^~~~~~
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue15.hs, Issue15.o )
[2 of 2] Linking Issue15
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue16.hs, Issue16.o )
[2 of 2] Linking Issue16
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue19.hs, Issue19.o )
[2 of 2] Linking Issue19
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue20.hs, Issue20.o )
[2 of 2] Linking Issue20
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue22.hs, Issue22.o )
[2 of 2] Linking Issue22
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue23.hs, Issue23.o )
[2 of 2] Linking Issue23
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue25.hs, Issue25.o )
[2 of 2] Linking Issue25
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 4] Compiling Issue30Aux1      ( Issue30Aux1.hs, Issue30Aux1.o )
[2 of 4] Compiling Issue30Aux2      ( Issue30Aux2.hs, Issue30Aux2.o )
[3 of 4] Compiling Main             ( Issue30.hs, Issue30.o )
[4 of 4] Linking Issue30
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue31.hs, Issue31.o )
[2 of 2] Linking Issue31
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue32.hs, Issue32.o )
[2 of 2] Linking Issue32
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue36.hs, Issue36.o )
[2 of 2] Linking Issue36
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue38.hs, Issue38.o )
[2 of 2] Linking Issue38
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue43.hs, Issue43.o )
[2 of 2] Linking Issue43
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue44.hs, Issue44.o )
[2 of 2] Linking Issue44
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue45.hs, Issue45.o )
[2 of 2] Linking Issue45
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue46.hs, Issue46.o )
[2 of 2] Linking Issue46
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue47.hs, Issue47.o )
[2 of 2] Linking Issue47
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue51_nonGNU.hs, Issue51_nonGNU.o )
[2 of 2] Linking Issue51_nonGNU
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue51_GNU.hs, Issue51_GNU.o )
[2 of 2] Linking Issue51_GNU
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue54.hs, Issue54.o )
[2 of 2] Linking Issue54
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue60.hs, Issue60.o )
[2 of 2] Linking Issue60
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue62.hs, Issue62.o )
[2 of 2] Linking Issue62
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue65.hs, Issue65.o )
[2 of 2] Linking Issue65
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue69.hs, Issue69.o )
[2 of 2] Linking Issue69
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 1] Compiling Foo              ( Issue70.hs, Issue70.o )
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue73.hs, Issue73.o )
[2 of 2] Linking Issue73
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue75.hs, Issue75.o )
[2 of 2] Linking Issue75
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue79.hs, Issue79.o )
[2 of 2] Linking Issue79
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue80.hs, Issue80.o )
[2 of 2] Linking Issue80
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue82.hs, Issue82.o )
[2 of 2] Linking Issue82
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue93.hs, Issue93.o )
[2 of 2] Linking Issue93
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue95.hs, Issue95.o )
[2 of 2] Linking Issue95
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue96.hs, Issue96.o )
[2 of 2] Linking Issue96
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 3] Compiling Issue97A         ( Issue97A.hs, Issue97A.o )
[2 of 3] Compiling Main             ( Issue97.hs, Issue97.o )
[3 of 3] Linking Issue97
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue98.hs, Issue98.o )
[2 of 2] Linking Issue98
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 3] Compiling Issue103A        ( Issue103A.hs, Issue103A.o )
[2 of 3] Compiling Main             ( Issue103.hs, Issue103.o )
[3 of 3] Linking Issue103
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue107.hs, Issue107.o )
[2 of 2] Linking Issue107
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue113.hs, Issue113.o )
[2 of 2] Linking Issue113
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue115.hs, Issue115.o )
[2 of 2] Linking Issue115
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue116.hs, Issue116.o )
[2 of 2] Linking Issue116
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue117.hs, Issue117.o )
[2 of 2] Linking Issue117
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue123.hs, Issue123.o )
[2 of 2] Linking Issue123
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue127.hs, Issue127.o )
[2 of 2] Linking Issue127
c2hs__bool_size.c: In function ‘main’:
c2hs__bool_size.c:2:45: warning: format ‘%u’ expects argument of type ‘unsigned int’, but argument 2 has type ‘long unsigned int’ [-Wformat=]
    2 | int main(int argc, char *argv[]) { printf("%u\n", sizeof(_Bool)); return 0; }
      |                                            ~^     ~~~~~~~~~~~~~
      |                                             |     |
      |                                             |     long unsigned int
      |                                             unsigned int
      |                                            %lu
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue128.hs, Issue128.o )
[2 of 2] Linking Issue128
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue130.hs, Issue130.o )
[2 of 2] Linking Issue130
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue131.hs, Issue131.o )
[2 of 2] Linking Issue131
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue133.hs, Issue133.o )
[2 of 2] Linking Issue133
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue134.hs, Issue134.o )
[2 of 2] Linking Issue134
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue136.hs, Issue136.o )
[2 of 2] Linking Issue136
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue140.hs, Issue140.o )
[2 of 2] Linking Issue140
c2hs: Errors during expansion of binding hooks:

issue141.h:1: (column 9) [ERROR]  >>> Illegal use of incomplete type!
  Expected a fully defined structure or union tag; instead found incomplete type.

c2hs: Errors during expansion of binding hooks:

issue141.h:1: (column 9) [ERROR]  >>> Illegal use of incomplete type!
  Expected a fully defined structure or union tag; instead found incomplete type.

c2hs: Errors during expansion of binding hooks:

Issue141C.chs:7: (column 17) [ERROR]  >>> Illegal use of incomplete type!
  Expected a fully defined structure or union tag; instead found incomplete type.

c2hs: Errors during expansion of binding hooks:

Issue149.chs:5: (column 3) [ERROR]  >>> Function arity mismatch!
  Parameter marshallers are missing.

Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 1] Compiling Issue151         ( Issue151.hs, Issue151.o )
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue152.hs, Issue152.o )
[2 of 2] Linking Issue152
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 3] Compiling Types            ( Types.hs, Types.o )
[2 of 3] Compiling Main             ( Issue155.hs, Issue155.o )
[3 of 3] Linking Issue155
c2hs: Errors during expansion of binding hooks:

Issue180.chs:8: (column 18) [ERROR]  >>> Function arity mismatch!
  This parameter is in excess of the C arguments.

Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 1] Compiling Issue192         ( Issue192.hs, Issue192.o )
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue230.hs, Issue230.o )
[2 of 2] Linking Issue230
Bugs:
upper C();
lower c();
upper C();
  call_capital (issue #??): [OK]
  Issue #7: [OK]
PTA:8
AOP:32
(32,64)
64
OK
  Issue #9: [OK]
SAME
SAME
SAME
SAME
SAME
  Issue #10: [OK]
True
  Issue #15: [OK]
  Issue #16: [OK]
Did it!
  Issue #19: [OK]
4
  Issue #20: [OK]
abcdef
2
20
  Issue #22: [OK]
H1
  Issue #23: [OK]
-1
abcdef
  Issue #25: [OK]
  Issue #29: [OK]
3
2
4
  Issue #30: [OK]
Enum OK
Pointer 1: 1 1
Pointer 2: 2
Foreign pointer: 3
Foreign newtype pointer: 4
  Issue #31: [OK]
1234
1
523
  Issue #32: [OK]
  Issue #36: [OK]
Enum OK
  Issue #38: [OK]
Test1A=0
Test1B=1
Test1C=5
Test1D=6
AnonA=8
AnonB=9
AnonC=15
AnonD=16
  Issue #43: [OK]
  Issue #44: [OK]
  Issue #45: [OK]
(1,2.5)
  Issue #46: [OK]
  Issue #47: [OK]
0
1
  Issue #51: [OK]
2
0.2
2
0.2
3
0.3
3
0.3
3
0.3
3
0.3
  Issue #54: [OK]
  Issue #60: [OK]
  Issue #62: [OK]
123
3.14
"hello"
  Issue #65: [OK]
  Issue #69: [OK]
  Issue #70: [OK]
Foreign pointer: 3
Foreign pointer: 3
Foreign newtype pointer: 4
Foreign newtype pointer: 4
Allocated struct3
Allocated struct3
Allocated struct4
Allocated struct4
Freeing struct3
Freeing struct4
  Issue #73: [OK]
  Issue #75: [OK]
A=1
B=2
C=2
D=3
  Issue #79: [OK]
  Issue #80: [OK]
  Issue #82: [OK]
  Issue #93: [OK]
  Issue #95: [OK]
  Issue #96: [OK]
42
  Issue #97: [OK]
  Issue #98: [OK]
1
2
3
  Issue #103: [OK]
True
  Issue #107: [OK]
  Issue #113: [OK]
[8,43,94]
[7,42,93]
  Issue #115: [OK]
  Issue #116: [OK]
5
  Issue #117: [OK]
[8,43,94]
[7,42,93]
[2,4,8]
[3,9,27]
  Issue #123: [OK]
True
False
  Issue #127: [OK]
5
3
True
False
10
False
12
True
7
False
8
True
  Issue #128: [OK]
3
3
  Issue #130: [OK]
5
3
True
False
  Issue #131: [OK]
  Issue #133: [OK]
  Issue #134: [OK]
  Issue #136: [OK]
123
456
789
  Issue #140: [OK]
  Issue #141: [OK]
  Issue #149: [OK]
  Issue #151: [OK]
  Issue #152: [OK]
OK
  Issue #155: [OK]
  Issue #180: [OK]
  Issue #192: [OK]
1
2
3
4.0
5
6
True
8.0
  Issue #230: [OK]
not a directory: /tmp/workdir-c2hs/c2hs-0.28.8/tests/bugs/issue-242
c2hs__bool_size.c: In function ‘main’:
c2hs__bool_size.c:2:45: warning: format ‘%u’ expects argument of type ‘unsigned int’, but argument 2 has type ‘long unsigned int’ [-Wformat=]
    2 | int main(int argc, char *argv[]) { printf("%u\n", sizeof(_Bool)); return 0; }
      |                                            ~^     ~~~~~~~~~~~~~
      |                                             |     |
      |                                             |     long unsigned int
      |                                             unsigned int
      |                                            %lu
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue257.hs, Issue257.o )
[2 of 2] Linking Issue257
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue48.hs, Issue48.o )
[2 of 2] Linking Issue48
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue83.hs, Issue83.o )
[2 of 2] Linking Issue83
Loaded package environment from /tmp/workdir-c2hs/c2hs-0.28.8/.ghc.environment.x86_64-linux-9.6.6
[1 of 2] Compiling Main             ( Issue102.hs, Issue102.o )
[2 of 2] Linking Issue102
  Issue #242: [Failed]
ERROR: 
Ran commands: 
cd /tmp/workdir-c2hs/c2hs-0.28.8/tests/bugs/issue-242
echo 'not a directory: /tmp/workdir-c2hs/c2hs-0.28.8/tests/bugs/issue-242'
exit 1

Exception: ExitFailure 1
True
False
True
False
  Issue #257: [OK]
2
5
  Issue #48: [OK]
(True,True)
TEST_VAL
8415
8415
TESTING
  Issue #83: [OK]
Unlocked
TST 1: 1234
TST 2: 13 47
TST 3: testing
  Issue #102: [OK]

         Test Cases  Total 
 Passed  66          66    
 Failed  1           1     
 Total   67          67    
Test suite test-bugs: FAIL
Test suite logged to:
/tmp/workdir-c2hs/c2hs-0.28.8/dist-newstyle/build/x86_64-linux/ghc-9.6.6/c2hs-0.28.8/t/test-bugs/test/c2hs-0.28.8-test-bugs.log
0 of 1 test suites (0 of 1 test cases) passed.
Error: [Cabal-7125]
Tests failed for test:test-bugs from c2hs-0.28.8.

