Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - hasql-1.6.4.4 (test:tasty) (ephemeral targets)
Preprocessing test suite 'tasty' for hasql-1.6.4.4...
Building test suite 'tasty' for hasql-1.6.4.4...
Running 1 test suites...
Test suite tasty: RUNNING...
All tests
  Roundtrips
    Array:                                             FAIL
      *** Failed! Falsified (after 1 test):
      []
      Right (Right []) /= Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
      Use --quickcheck-replay=252791 to reproduce.
      Use -p '/Roundtrips.Array/' to rerun this test only.
    2D Array:                                          FAIL
      *** Failed! Falsified (after 1 test and 1 shrink):
      [0]
      Right (Right [[0],[0],[0]]) /= Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
      Use --quickcheck-replay=160366 to reproduce.
      Use -p '/2D Array/' to rerun this test only.
  Failed query:                                        FAIL
    tasty/Main.hs:58:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Failed query/' to rerun this test only.
  IN simulation:                                       FAIL
    tasty/Main.hs:76:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    expected: Right (Right (True,False))
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/All tests.IN simulation/' to rerun this test only.
  NOT IN simulation:                                   FAIL
    tasty/Main.hs:92:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    expected: Right (Right (True,False))
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/NOT IN simulation/' to rerun this test only.
  Composite decoding:                                  FAIL
    tasty/Main.hs:107:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    expected: Right (Right (1,True))
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Composite decoding/' to rerun this test only.
  Complex composite decoding:                          FAIL
    tasty/Main.hs:136:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    expected: Right (Right ((1,True),("hello",3)))
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Complex composite decoding/' to rerun this test only.
  unknownEnum
    :                                                  FAIL
      tasty/Main.hs:163:
      expected: Right "ok"
       but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
      Use -p '/unknownEnum./' to rerun this test only.
  Composite encoding:                                  FAIL
    tasty/Main.hs:194:
    expected: Right (Right (123,456,789.0,"abc"))
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Composite encoding/' to rerun this test only.
  Empty array:                                         FAIL
    tasty/Main.hs:199:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    expected: Right (Right [])
     but got: Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Empty array/' to rerun this test only.
  Failing prepared statements:                         OK
  Prepared statements after error:                     FAIL
    tasty/Main.hs:242:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/Prepared statements after error/' to rerun this test only.
  "in progress after error" bugfix:                    FAIL
    tasty/Main.hs:284:
    Left (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n")
    Use -p '/"in progress after error" bugfix/' to rerun this test only.
  "another command is already in progress" bugfix:     FAIL
    tasty/Main.hs:304:
    Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    expected: Right 2
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/"another command is already in progress" bugfix/' to rerun this test only.
  Executing the same query twice:                      OK
  Interval Encoding:                                   FAIL
    tasty/Main.hs:320:
    Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    expected: Right True
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '$0=="All tests.Interval Encoding"' to rerun this test only.
  Interval Decoding:                                   FAIL
    tasty/Main.hs:334:
    Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    expected: Right 10s
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/Interval Decoding/' to rerun this test only.
  Interval Encoding/Decoding:                          FAIL
    tasty/Main.hs:348:
    Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    expected: Right 10s
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/Interval Encoding\/Decoding/' to rerun this test only.
  Unknown:                                             FAIL
    tasty/Main.hs:374:
    expected: Right True
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/All tests.Unknown/' to rerun this test only.
  Textual Unknown:                                     FAIL
    tasty/Main.hs:400:
    expected: Right "3456"
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/Textual Unknown/' to rerun this test only.
  Enum:                                                FAIL
    tasty/Main.hs:426:
    expected: Right "ok"
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/All tests.Enum/' to rerun this test only.
  The same prepared statement used on different types: FAIL
    tasty/Main.hs:455:
    expected: Right ("ok",1)
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/The same prepared statement used on different types/' to rerun this test only.
  Affected rows counting:                              FAIL
    tasty/Main.hs:484:
    expected: Right 100
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/Affected rows counting/' to rerun this test only.
  Result of an auto-incremented column:                FAIL
    tasty/Main.hs:494:
    expected: Right (1,2)
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/Result of an auto-incremented column/' to rerun this test only.
  List decoding:                                       FAIL
    tasty/Main.hs:498:
    expected: Right [(1,2),(3,4),(5,6)]
     but got: Left (ConnectionError (Just "connection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (::1), port 5432 failed: Cannot assign requested address\n\tIs the server running on that host and accepting TCP/IP connections?\n"))
    Use -p '/List decoding/' to rerun this test only.

23 out of 25 tests failed (0.00s)
Test suite tasty: FAIL
Test suite logged to:
/tmp/workdir-hasql/hasql-1.6.4.4/dist-newstyle/build/x86_64-linux/ghc-9.6.6/hasql-1.6.4.4/t/tasty/test/hasql-1.6.4.4-tasty.log
0 of 1 test suites (0 of 1 test cases) passed.
Error: [Cabal-7125]
Tests failed for test:tasty from hasql-1.6.4.4.

