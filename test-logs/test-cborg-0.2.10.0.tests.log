Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - cborg-0.2.10.0 (test:tests) (ephemeral targets)
Preprocessing test suite 'tests' for cborg-0.2.10.0...
Building test suite 'tests' for cborg-0.2.10.0...
Running 1 test suites...
Test suite tests: RUNNING...
CBOR
  Reference implementation
    internal properties
      Integer to/from bytes:                                                    OK
        +++ OK, passed 100 tests.
      Word16 to/from network byte order:                                        OK
        +++ OK, passed 100 tests.
      Word32 to/from network byte order:                                        OK
        +++ OK, passed 100 tests.
      Word64 to/from network byte order:                                        OK
        +++ OK, passed 100 tests.
      Numeric.Half to/from Float:                                               OK
        +++ OK, passed 1 test.
    properties
      encoding/decoding initial byte:                                           OK
        +++ OK, passed 1 test.
      encoding/decoding additional info:                                        OK
        +++ OK, passed 100 tests.
      encoding/decoding token header:                                           OK
        +++ OK, passed 100 tests.
      encoding/decoding token header 2:                                         OK
        +++ OK, passed 1 test.
      encoding/decoding tokens:                                                 OK
        +++ OK, passed 100 tests.
      encoding/decoding terms:                                                  OK
        +++ OK, passed 100 tests.
    RFC7049 test vector: decode:                                                OK
    RFC7049 test vector: roundtrip:                                             OK
    external test vector:                                                       OK
  unit tests
    RFC7049 test vector: decode:                                                OK
    RFC7049 test vector: roundtrip:                                             OK
    external test vector:                                                       OK
  properties
    to . id . from = canon_ref
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    from . id . to = canon_imp
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    dec_ref . enc_ref = id
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    dec_imp . enc_imp = canon_imp
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    dec_imp . enc_imp = canon_imp (all 2-splits)
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK (0.09s)
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    dec_imp . enc_imp = canon_imp (all 3-splits)
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK (0.18s)
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK (0.02s)
        +++ OK, passed 100 tests.
    enc_imp . from = enc_ref . canon_ref
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    enc_ref . to = enc_imp
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
    dec_imp . enc_ref = from . dec_ref . enc_ref
      Word8:                                                                    OK
        +++ OK, passed 100 tests.
      Word16:                                                                   OK
        +++ OK, passed 100 tests.
      Word32:                                                                   OK
        +++ OK, passed 100 tests.
      Word64:                                                                   OK
        +++ OK, passed 100 tests.
      Word:                                                                     OK
        +++ OK, passed 100 tests.
      Int8:                                                                     OK
        +++ OK, passed 100 tests.
      Int16:                                                                    OK
        +++ OK, passed 100 tests.
      Int32:                                                                    OK
        +++ OK, passed 100 tests.
      Int64:                                                                    OK
        +++ OK, passed 100 tests.
      Int:                                                                      OK
        +++ OK, passed 100 tests.
      Integer:                                                                  OK
        +++ OK, passed 100 tests.
      Half:                                                                     OK
        +++ OK, passed 100 tests.
      Float:                                                                    OK
        +++ OK, passed 100 tests.
      Double:                                                                   OK
        +++ OK, passed 100 tests.
      Tag:                                                                      OK
        +++ OK, passed 100 tests.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests.
      Simple:                                                                   OK
        +++ OK, passed 100 tests.
      Term:                                                                     OK
        +++ OK, passed 100 tests.
      ByteArray:                                                                OK
        +++ OK, passed 100 tests.
  peekByteOffset
    ATerm framework
      isomorphic 1:                                                             OK
        +++ OK, passed 100 tests.
      isomorphic 2:                                                             OK
        +++ OK, passed 100 tests.
      isomorphic 3:                                                             OK
        +++ OK, passed 100 tests.
    bytes deserialise:                                                          OK
      +++ OK, passed 100 tests.
    bytes reserialise:                                                          OK
      +++ OK, passed 100 tests.
    non-canonical encoding:                                                     OK
      +++ OK, passed 100 tests; 157 discarded.
    same offsets with all 2-splits:                                             OK
      +++ OK, passed 100 tests.
    same offsets with all 3-splits:                                             OK (0.10s)
      +++ OK, passed 100 tests.
  Boundary checks
    Word:                                                                       OK
      +++ OK, passed 1000 tests (100.0% "inside").
    Word (canonical):                                                           OK
      +++ OK, passed 1000 tests (100.0% "inside").
    Word8:                                                                      OK
      +++ OK, passed 1000 tests:
      69.9% "outside"
      30.1% "inside"
    Word8 (canonical):                                                          OK
      +++ OK, passed 1000 tests:
      70.9% "outside"
      29.1% "inside"
    Word16:                                                                     OK
      +++ OK, passed 1000 tests:
      65.1% "outside"
      34.9% "inside"
    Word16 (canonical):                                                         OK
      +++ OK, passed 1000 tests:
      62.2% "outside"
      37.8% "inside"
    Word32:                                                                     OK
      +++ OK, passed 1000 tests:
      51.5% "inside"
      48.5% "outside"
    Word32 (canonical):                                                         OK
      +++ OK, passed 1000 tests:
      50.3% "outside"
      49.7% "inside"
    Word64:                                                                     OK
      +++ OK, passed 1000 tests (100.0% "inside").
    Word64 (canonical):                                                         OK
      +++ OK, passed 1000 tests (100.0% "inside").
    Int:                                                                        OK
      +++ OK, passed 1000 tests:
      55.8% "inside"
      44.2% "outside"
    Int (canonical):                                                            OK
      +++ OK, passed 1000 tests:
      54.4% "inside"
      45.6% "outside"
    Int8:                                                                       OK
      +++ OK, passed 1000 tests:
      70.7% "outside"
      29.3% "inside"
    Int8 (canonical):                                                           OK
      +++ OK, passed 1000 tests:
      71.5% "outside"
      28.5% "inside"
    Int16:                                                                      OK
      +++ OK, passed 1000 tests:
      64.5% "outside"
      35.5% "inside"
    Int16 (canonical):                                                          OK
      +++ OK, passed 1000 tests:
      63.8% "outside"
      36.2% "inside"
    Int32:                                                                      OK
      +++ OK, passed 1000 tests:
      50.3% "outside"
      49.7% "inside"
    Int32 (canonical):                                                          OK
      +++ OK, passed 1000 tests:
      50.4% "outside"
      49.6% "inside"
    Int64:                                                                      OK
      +++ OK, passed 1000 tests:
      53.0% "inside"
      47.0% "outside"
    Int64 (canonical):                                                          OK
      +++ OK, passed 1000 tests:
      56.9% "inside"
      43.1% "outside"
    ListLen:                                                                    OK
      +++ OK, passed 1000 tests:
      85.5% "inside"
      14.5% "outside"
    ListLen (canonical):                                                        OK
      +++ OK, passed 1000 tests:
      85.3% "inside"
      14.7% "outside"
    MapLen:                                                                     OK
      +++ OK, passed 1000 tests:
      85.2% "inside"
      14.8% "outside"
    MapLen (canonical):                                                         OK
      +++ OK, passed 1000 tests:
      83.5% "inside"
      16.5% "outside"
    String:                                                                     OK
      +++ OK, passed 1000 tests.
    Bytes:                                                                      OK
      +++ OK, passed 1000 tests.
  properties
    decode non-canonical encoding
      Word8:                                                                    OK
        +++ OK, passed 100 tests; 186 discarded.
      Word16:                                                                   OK
        +++ OK, passed 100 tests; 89 discarded.
      Word32:                                                                   OK
        +++ OK, passed 100 tests; 66 discarded.
      Word64:                                                                   OK
        +++ OK, passed 100 tests; 48 discarded.
      Word:                                                                     OK
        +++ OK, passed 100 tests; 43 discarded.
      Int8:                                                                     OK
        +++ OK, passed 100 tests; 179 discarded.
      Int16:                                                                    OK
        +++ OK, passed 100 tests; 91 discarded.
      Int32:                                                                    OK
        +++ OK, passed 100 tests; 60 discarded.
      Int64:                                                                    OK
        +++ OK, passed 100 tests; 45 discarded.
      Int:                                                                      OK
        +++ OK, passed 100 tests; 48 discarded.
      Integer:                                                                  OK
        +++ OK, passed 100 tests; 304 discarded.
      Half:                                                                     OK
        +++ OK, passed 100 tests; 398 discarded.
      Float:                                                                    OK
        +++ OK, passed 100 tests; 562 discarded.
      Double:                                                                   OK
        +++ OK, passed 100 tests; 507 discarded.
      Tag:                                                                      OK
        +++ OK, passed 100 tests; 28 discarded.
      Tag64:                                                                    OK
        +++ OK, passed 100 tests; 55 discarded.
      Simple:                                                                   OK
        +++ OK, passed 100 tests; 274 discarded.
      Term:                                                                     OK
        +++ OK, passed 100 tests; 185 discarded.
    canonical decoding
      Word:                                                                     OK
        +++ OK, passed 100 tests (21% canonical).
      Word8:                                                                    OK
        +++ OK, passed 100 tests (64% canonical).
      Word16:                                                                   OK
        +++ OK, passed 100 tests (53% canonical).
      Word32:                                                                   OK
        +++ OK, passed 100 tests (37% canonical).
      Word64:                                                                   OK
        +++ OK, passed 100 tests (31% canonical).
      Int:                                                                      OK
        +++ OK, passed 100 tests (22% canonical).
      Int8:                                                                     OK
        +++ OK, passed 100 tests (68% canonical).
      Int16:                                                                    OK
        +++ OK, passed 100 tests (44% canonical).
      Int32:                                                                    OK
        +++ OK, passed 100 tests (27% canonical).
      Int64:                                                                    OK
        +++ OK, passed 100 tests (34% canonical).
      Integer:                                                                  OK
        +++ OK, passed 100 tests (70% canonical).
      Half:                                                                     OK
        +++ OK, passed 100 tests (83% canonical).
      Float:                                                                    OK
        +++ OK, passed 100 tests (84% canonical).
      Double:                                                                   OK
        +++ OK, passed 100 tests (86% canonical).
      Tag:                                                                      OK
        +++ OK, passed 100 tests (31% canonical).
      Tag64:                                                                    OK
        +++ OK, passed 100 tests (32% canonical).
      Simple:                                                                   OK
        +++ OK, passed 100 tests (71% canonical).
  Regression tests
    FlatTerm regressions
      Decoding of large-ish words:                                              OK
      Encoding of Int64s on 32bit:                                              OK
    Issue 160 - decoder checks
      decodeString fails on non-utf8 bytes instead of crashing (fast path):     OK
      decodeString fails on non-utf8 bytes instead of crashing (slow path):     OK
      decodeListLen doesn't produce negative lengths using a Word64:            OK
      decodeMapLen doesn't produce negative lengths using a Word64:             OK
      decodeBytes doesn't create bytestrings that cause segfaults or worse:     OK
    Issue 162 - canonical decoding
      simple:                                                                   OK
      composite:                                                                OK
  UTF8
    Decoding of UTF8 encoded Text works and properly handles decoding failures: OK
      +++ OK, passed 1000 tests:
      80.4% "invalid utf8"
      19.6% "valid utf8"
  pre-encoded
    single term, same bytes:                                                    OK
      +++ OK, passed 100 tests.
    single term, same tokens:                                                   OK
      +++ OK, passed 100 tests.
    list terms, same bytes:                                                     OK (0.04s)
      +++ OK, passed 100 tests.
    list terms, same tokens:                                                    OK (0.06s)
      +++ OK, passed 100 tests.

All 271 tests passed (0.33s)
Test suite tests: PASS
Test suite logged to:
/tmp/workdir-cborg/cborg-0.2.10.0/dist-newstyle/build/x86_64-linux/ghc-9.6.6/cborg-0.2.10.0/t/tests/test/cborg-0.2.10.0-tests.log
1 of 1 test suites (1 of 1 test cases) passed.
