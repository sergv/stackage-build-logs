Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - pantry-0.9.3.2 (test:spec) (ephemeral targets)
Preprocessing test suite 'spec' for pantry-0.9.3.2...
Building test suite 'spec' for pantry-0.9.3.2...
Running 1 test suites...
Test suite spec: RUNNING...

Pantry.Archive
  finds cabal file from tarball [✔]
  finds cabal file from tarball with subdir '.' [✔]
  finds cabal file from tarball with a package.yaml [✔]
  finds cabal file from tarball with subdir '.' with a package.yaml [✔]
  finds cabal file from tarball with subdir 'subs/pantry/' [✔]
  matches whole directory name [✔]
  follows symlinks to directories [✔]
Pantry.BuildPlan
  PackageLocation
    Archive
      github
        'github' and 'commit' keys [✔]
        'github', 'commit', and 'subdirs' keys [✔]
        does not parse GitHub repo with no slash [✔]
        does not parse GitHub repo with leading slash [✔]
        does not parse GitHub repo with trailing slash [✔]
        does not parse GitHub repo with more than one slash [✔]
Pantry.Cabal
  wrong cabal file
    Hackage [✔]
    tarball with wrong ident [✔]
    tarball with wrong cabal file [✔]
Pantry.Casa
  loadPackageRaw Exact hackage lookup [✔]
  loadHackagePackageRaw Exact hackage lookup [✔]
  loadHackagePackageRawViaCasa Exact hackage lookup [✔]
  completePackageLocation: unliftio_0_2_12 [✔]
Pantry.File
  loadCabalFilePath
    sanity [✔]
Pantry.GlobalHints
Error: [S-912]
Error when parsing global hints: AesonException "Error in $: parsing Map failed, expected Object, but encountered String"
Could not find local global hints for ghc-0.0.0.0.0.0.0, forcing a redownload
  unknown compiler [✔]
Error: [S-912]
Error when parsing global hints: AesonException "Error in $: parsing Map failed, expected Object, but encountered String"
Could not find local global hints for ghc-8.4.3, forcing a redownload
  known compiler [✔]
Error: [S-912]
Error when parsing global hints: AesonException "Error in $: parsing Map failed, expected Object, but encountered String"
Could not find local global hints for ghc-7.8.4, forcing a redownload
  older known compiler [✔]
Pantry.Hackage
Selected mirror https://hackage.haskell.org/
Downloading timestamp
Downloading snapshot
Updating index
Waiting to acquire cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
Acquired cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
Released cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
Updated package index downloaded
Calculating hashes to check for hackage-security rebases or filesystem changes
Updating preexisting cache, should be quick
Populating cache from file size 940347904, hash 949bae50999e3a5919eaae8da0c5eeae83753702de11f1b638f7bcf8c7ddf57a
Populating package index cache ...
Package index cache populated
  update works [✔]
Cabal file info not found for thisisnot-tobe-foundon-hackage-please-1.2.3, updating
Selected mirror https://hackage.haskell.org/
Downloading timestamp
Waiting to acquire cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
Acquired cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
Released cache lock on /home/stackage/.stack/pantry/hackage/hackage-security-lock
No package index update available and cache up to date
Package index cache populated
  fuzzy lookup kicks in [✔]
  finds acme-missiles [✔]
Pantry.Internal
  normalizeParents
    /file/\test [✔]
    file/\test [✔]
    /file/////\test [✔]
    file/////\test [✔]
    file/test/ [✔]
    /file/\test//// [✔]
    /file/./test [✔]
    file/./test [✔]
    /test/file/../bob/fred/ [✔]
    /test/file/../bob/fred [✔]
    test/file/../bob/fred/ [✔]
    test/file/../bob/fred [✔]
    test0/test1/file/../../bob/fred [✔]
    ../bob/fred [✔]
    ../bob/fred/ [✔]
    ./bob/fred/ [✔]
    ./bob/fred [✔]
    ./ [✔]
    ./. [✔]
    /./ [✔]
    / [✔]
    bob/fred/. [✔]
    //home [✔]
    foobarbaz\bin [✔]
  makeTarRelative
    ("foo/bar","baz") [✔]
    ("foo","bar") [✔]
    ("foo","/bar") [✔]
    ("foo/","bar") [✔]
    ("/foo","bar") [✔]
  Parse HPack version
    Shipped hpack version [✔]
Pantry.Tree
  zip and tar.gz archives match [✔]
Cloning 47b499c3c58ca465c56ee0295d0a76782a66751d from https://github.com/snoyberg/file-embed.git
  archive and Git repo match [✔]
  archive and Hg repo match [‐]
    # PENDING: No reason given
  5045 no cabal file [✔]
Pantry.Types
  WantedCompiler
  ✓ <interactive> passed 100 tests.
    parse/render works [✔]
  Tree
  ✓ <interactive> passed 100 tests.
    parse/render works [✔]
  (Raw)SnapshotLayer
    parses snapshot using 'resolver' [✔]
    parses snapshot using 'snapshot' [✔]
    throws if both 'resolver' and 'snapshot' are present [✔]
    throws if both 'snapshot' and 'compiler' are not present [✔]
    works if no 'snapshot' specified [✔]
  ✓ <interactive> passed 100 tests.
    rendering the name of an LTS to JSON [✔]
  ✓ <interactive> passed 100 tests.
    rendering the name of a nightly to JSON [✔]
    FromJSON instance for PLIRepo [✔]
    parseHackageText parses [✔]
    roundtripping a PLIRepo [✔]
  completeSnapshotLocation
    default location for nightly-2024-02-04 [✔]
    default location for lts-22.9 [✔]

Finished in 28.6191 seconds
75 examples, 0 failures, 1 pending
Test suite spec: PASS
Test suite logged to:
/tmp/workdir-pantry/pantry-0.9.3.2/dist-newstyle/build/x86_64-linux/ghc-9.6.6/pantry-0.9.3.2/t/spec/test/pantry-0.9.3.2-spec.log
1 of 1 test suites (1 of 1 test cases) passed.
