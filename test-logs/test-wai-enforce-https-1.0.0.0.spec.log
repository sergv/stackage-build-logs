Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - wai-enforce-https-1.0.0.0 (test:spec) (ephemeral targets)
Preprocessing test suite 'spec' for wai-enforce-https-1.0.0.0...
Building test suite 'spec' for wai-enforce-https-1.0.0.0...
Running 1 test suites...
Test suite spec: RUNNING...

EnforceHTTPS
  Default settings
    retuns 301 redirect on GET [✔]
    retuns 301 redirect on HEAD [✔]
    retuns 405 disallow on POST [✔]
    should not redirect secure request [✔]
    includes url path and params to redirect [✔]
    request without `Host` header fails with 400 (Bad Request) [✔]
  `httpsHostname` setting
    redirects to specified hostname [✔]
    redirects with path and params [✔]
  `httpsPort` setting
    redirects to specified port [✔]
    redirects with path and params [✔]
    removes doesn't stack ports [✔]
  `httpsIgnoreURL` setting
    redirect without path [✔]
  `httpsTemporary` setting
    redirect without path [✔]
  `skipDefaultPort` setting
    redirect without path [✔]
  `httsRedirectMethods` setting
    default settings for GET is overwritten [✔]
    specified methods is redirected [✔]
  `httpsDisallowStatus` settings
    returns specified status for disallowed method [✔]
  resolvers
    x-forwarded-proto resolver
      retuns 301 redirect on GET without header [✔]
      retuns 301 redirect on GET if header value is http [✔]
      returns 200 if header value is https [✔]
    azure's x-arr-ssl header
      retuns 301 redirect on GET without header [✔]
      returns 200 if header is present [✔]
    custom proto header resolver
      retuns 301 redirect on GET without header [✔]
      retuns 301 redirect on GET if header value is http [✔]
      returns 200 if header value is https [✔]
    forwarded header
      retuns 301 redirect on GET without header [✔]
      retuns 301 redirect on GET if header value is http [✔]
      returns 200 if header value is https [✔]
Forwarded
  parsing
    full header
      parses [✔]
      should encode [✔]
      parses even without spaces [✔]
    only proto part
      parses [✔]
      should serialize [✔]
  properties
    proto part is case insensitive [✔]
    for part is case sensitive [✔]

Finished in 0.0009 seconds
35 examples, 0 failures
Test suite spec: PASS
Test suite logged to:
/tmp/workdir-wai-enforce-https/wai-enforce-https-1.0.0.0/dist-newstyle/build/x86_64-linux/ghc-9.6.6/wai-enforce-https-1.0.0.0/t/spec/test/wai-enforce-https-1.0.0.0-spec.log
1 of 1 test suites (1 of 1 test cases) passed.
