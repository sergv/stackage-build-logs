Build profile: -w ghc-9.6.6 -O1
In order, the following will be built (use -v for more details):
 - matplotlib-0.7.7 (test:matplotlib-test) (ephemeral targets)
Preprocessing test suite 'matplotlib-test' for matplotlib-0.7.7...
Building test suite 'matplotlib-test' for matplotlib-0.7.7...
Running 1 test suites...
Test suite matplotlib-test: RUNNING...
All tests
  Basic tests
    histogram:          OK (7.40s)
    cumulative:         OK (7.38s)
    scatter:            OK (7.41s)
    contour:            OK (7.55s)
    labelled-histogram: OK (7.40s)
    density-bandwidth:  OK (7.39s)
    density:            OK (7.28s)
    line-function:      OK (7.35s)
    quadratic:          OK (7.39s)
    projections:        OK (7.38s)
    line-options:       OK (7.40s)
    corr:               OK (7.32s)
    show-matrix:        OK (7.48s)
    legend:             OK (7.50s)
    hist2DLog:          OK (7.38s)
    eventplot:          OK (7.43s)
    errorbar:           OK (7.50s)
    scatterhist:        OK (7.44s)
    histMulti:          OK (7.52s)
    spines:             OK (7.42s)
    hists:              OK (7.49s)
    hinton:             OK (7.49s)
    integral:           OK (7.29s)
    quiver:             OK (7.33s)
    quiver-fancy:       OK (7.54s)
    polar:              OK (7.34s)
    bivariateNormal:    OK (7.53s)
    pcolorlog:          OK (7.55s)
    pie:                OK (7.29s)
    stacked:            OK (7.40s)
    annotation:         OK (7.54s)
    streamplot:         OK (7.57s)
  Fragile tests
    tex:                Traceback (most recent call last):
  File "/tmp/code2081523-90.py", line 31, in <module>
    img = mpimg.imread('data/heightmap.png')
  File "/usr/lib/python3/dist-packages/matplotlib/image.py", line 1560, in imread
    with img_open(fname) as image:
  File "/usr/lib/python3/dist-packages/PIL/ImageFile.py", line 100, in __init__
    self.fp = open(fp, "rb")
FileNotFoundError: [Errno 2] No such file or directory: 'data/heightmap.png'
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/matplotlib/texmanager.py", line 233, in _run_checked_subprocess
    report = subprocess.check_output(
  File "/usr/lib/python3.10/subprocess.py", line 421, in check_output
    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['latex', '-interaction=nonstopmode', '--halt-on-error', '../e79e5a4b590babc4e59f5cc7000ce83a.tex']' returned non-zero exit status 1.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/tmp/code2081523-80.py", line 38, in <module>
    plot.savefig('/tmp/imgs/tex.png')
  File "/usr/lib/python3/dist-packages/matplotlib/pyplot.py", line 958, in savefig
    res = fig.savefig(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/matplotlib/figure.py", line 3019, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/usr/lib/python3/dist-packages/matplotlib/backend_bases.py", line 2319, in print_figure
    result = print_method(
  File "/usr/lib/python3/dist-packages/matplotlib/backend_bases.py", line 1648, in wrapper
    return func(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/matplotlib/_api/deprecation.py", line 412, in wrapper
    return func(*inner_args, **inner_kwargs)
  File "/usr/lib/python3/dist-packages/matplotlib/backends/backend_agg.py", line 540, in print_png
    FigureCanvasAgg.draw(self)
  File "/usr/lib/python3/dist-packages/matplotlib/backends/backend_agg.py", line 436, in draw
    self.figure.draw(self.renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/artist.py", line 73, in draw_wrapper
    result = draw(artist, renderer, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/matplotlib/artist.py", line 50, in draw_wrapper
    return draw(artist, renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/figure.py", line 2810, in draw
    mimage._draw_list_compositing_images(
  File "/usr/lib/python3/dist-packages/matplotlib/image.py", line 132, in _draw_list_compositing_images
    a.draw(renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/artist.py", line 50, in draw_wrapper
    return draw(artist, renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/axes/_base.py", line 3046, in draw
    self._update_title_position(renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/axes/_base.py", line 2996, in _update_title_position
    if title.get_window_extent(renderer).ymin < top:
  File "/usr/lib/python3/dist-packages/matplotlib/text.py", line 910, in get_window_extent
    bbox, info, descent = self._get_layout(self._renderer)
  File "/usr/lib/python3/dist-packages/matplotlib/text.py", line 309, in _get_layout
    _, lp_h, lp_d = renderer.get_text_width_height_descent(
  File "/usr/lib/python3/dist-packages/matplotlib/backends/backend_agg.py", line 259, in get_text_width_height_descent
    w, h, d = texmanager.get_text_width_height_descent(
  File "/usr/lib/python3/dist-packages/matplotlib/texmanager.py", line 335, in get_text_width_height_descent
    dvifile = self.make_dvi(tex, fontsize)
  File "/usr/lib/python3/dist-packages/matplotlib/texmanager.py", line 271, in make_dvi
    self._run_checked_subprocess(
  File "/usr/lib/python3/dist-packages/matplotlib/texmanager.py", line 241, in _run_checked_subprocess
    raise RuntimeError(
RuntimeError: latex was not able to process the following string:
b'lp'

Here is the full report generated by latex:
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2022/dev/Debian) (preloaded format=latex)
 restricted \write18 enabled.
entering extended mode
(../e79e5a4b590babc4e59f5cc7000ce83a.tex
LaTeX2e <2021-11-15> patch level 1
L3 programming layer <2022-01-21>
(/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
Document Class: article 2021/10/04 v1.4n Standard LaTeX document class
(/usr/share/texlive/texmf-dist/tex/latex/base/size10.clo))

! LaTeX Error: File `type1cm.sty' not found.

Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)

Enter file name: 
! Emergency stop.
<read *> 
         
l.5 \usepackage
               {type1ec}^^M
No pages of output.
Transcript written on e79e5a4b590babc4e59f5cc7000ce83a.log.



Can fail with old matplotlib or data: FAIL (0.88s)
      test/Spec.hs:162:
      expected: Right ""
       but got: Left "readCreateProcess: env \"python3\" \"/tmp/code2081523-80.py\" (exit 1): failed"
    boxplot:            OK (0.61s)
    violinplot:         OK (0.60s)
    griddata:           OK (0.60s)
    images:             Can fail with old matplotlib or data: FAIL (0.56s)
      test/Spec.hs:162:
      expected: Right ""
       but got: Left "readCreateProcess: env \"python3\" \"/tmp/code2081523-90.py\" (exit 1): failed"
  Failing tests
    sub-bars:           IGNORED

All 38 tests passed (8.17s)
Test suite matplotlib-test: PASS
Test suite logged to:
/tmp/workdir-matplotlib/matplotlib-0.7.7/dist-newstyle/build/x86_64-linux/ghc-9.6.6/matplotlib-0.7.7/t/matplotlib-test/test/matplotlib-0.7.7-matplotlib-test.log
1 of 1 test suites (1 of 1 test cases) passed.
